(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Sh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function sS(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var o=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return r[s]}})}),n}var $d={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function aS(){if(pv)return Il;pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var gv;function oS(){return gv||(gv=1,$d.exports=aS()),$d.exports}var K=oS(),Zd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function lS(){if(yv)return Ie;yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Z={};function Q(D,ee,le){this.props=D,this.context=ee,this.refs=Z,this.updater=le||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},Q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ce(){}ce.prototype=Q.prototype;function se(D,ee,le){this.props=D,this.context=ee,this.refs=Z,this.updater=le||N}var ie=se.prototype=new ce;ie.constructor=se,U(ie,Q.prototype),ie.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function x(D,ee,le,te,me,we){return le=we.ref,{$$typeof:r,type:D,key:ee,ref:le!==void 0?le:null,props:we}}function S(D,ee){return x(D.type,ee,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return ee[le]})}var M=/\/+/g;function k(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):ee.toString(36)}function R(){}function Be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function qe(D,ee,le,te,me){var we=typeof D;(we==="undefined"||we==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(we){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case r:case e:Te=!0;break;case v:return Te=D._init,qe(Te(D._payload),ee,le,te,me)}}if(Te)return me=me(D),Te=te===""?"."+k(D,0):te,ne(me)?(le="",Te!=null&&(le=Te.replace(M,"$&/")+"/"),qe(me,ee,le,"",function(sn){return sn})):me!=null&&(I(me)&&(me=S(me,le+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+Te)),ee.push(me)),1;Te=0;var gt=te===""?".":te+":";if(ne(D))for(var Xe=0;Xe<D.length;Xe++)te=D[Xe],we=gt+k(te,Xe),Te+=qe(te,ee,le,we,me);else if(Xe=b(D),typeof Xe=="function")for(D=Xe.call(D),Xe=0;!(te=D.next()).done;)te=te.value,we=gt+k(te,Xe++),Te+=qe(te,ee,le,we,me);else if(we==="object"){if(typeof D.then=="function")return qe(Be(D),ee,le,te,me);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function F(D,ee,le){if(D==null)return D;var te=[],me=0;return qe(D,te,"","",function(we){return ee.call(le,we,me++)}),te}function ae(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var he=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ke(){}return Ie.Children={map:F,forEach:function(D,ee,le){F(D,function(){ee.apply(this,arguments)},le)},count:function(D){var ee=0;return F(D,function(){ee++}),ee},toArray:function(D){return F(D,function(ee){return ee})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=Q,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return re.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cloneElement=function(D,ee,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=U({},D.props),me=D.key,we=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(we=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!ue.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(te[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)te.children=le;else if(1<Te){for(var gt=Array(Te),Xe=0;Xe<Te;Xe++)gt[Xe]=arguments[Xe+2];te.children=gt}return x(D.type,me,void 0,void 0,we,te)},Ie.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ie.createElement=function(D,ee,le){var te,me={},we=null;if(ee!=null)for(te in ee.key!==void 0&&(we=""+ee.key),ee)ue.call(ee,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=ee[te]);var Te=arguments.length-2;if(Te===1)me.children=le;else if(1<Te){for(var gt=Array(Te),Xe=0;Xe<Te;Xe++)gt[Xe]=arguments[Xe+2];me.children=gt}if(D&&D.defaultProps)for(te in Te=D.defaultProps,Te)me[te]===void 0&&(me[te]=Te[te]);return x(D,we,void 0,void 0,null,me)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:m,render:D}},Ie.isValidElement=I,Ie.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:ae}},Ie.memo=function(D,ee){return{$$typeof:g,type:D,compare:ee===void 0?null:ee}},Ie.startTransition=function(D){var ee=re.T,le={};re.T=le;try{var te=D(),me=re.S;me!==null&&me(le,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ke,he)}catch(we){he(we)}finally{re.T=ee}},Ie.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ie.use=function(D){return re.H.use(D)},Ie.useActionState=function(D,ee,le){return re.H.useActionState(D,ee,le)},Ie.useCallback=function(D,ee){return re.H.useCallback(D,ee)},Ie.useContext=function(D){return re.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,ee){return re.H.useDeferredValue(D,ee)},Ie.useEffect=function(D,ee,le){var te=re.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,ee)},Ie.useId=function(){return re.H.useId()},Ie.useImperativeHandle=function(D,ee,le){return re.H.useImperativeHandle(D,ee,le)},Ie.useInsertionEffect=function(D,ee){return re.H.useInsertionEffect(D,ee)},Ie.useLayoutEffect=function(D,ee){return re.H.useLayoutEffect(D,ee)},Ie.useMemo=function(D,ee){return re.H.useMemo(D,ee)},Ie.useOptimistic=function(D,ee){return re.H.useOptimistic(D,ee)},Ie.useReducer=function(D,ee,le){return re.H.useReducer(D,ee,le)},Ie.useRef=function(D){return re.H.useRef(D)},Ie.useState=function(D){return re.H.useState(D)},Ie.useSyncExternalStore=function(D,ee,le){return re.H.useSyncExternalStore(D,ee,le)},Ie.useTransition=function(){return re.H.useTransition()},Ie.version="19.1.0",Ie}var _v;function rp(){return _v||(_v=1,Zd.exports=lS()),Zd.exports}var H=rp();const Yi=Sh(H);var Wd={exports:{}},Cl={},Jd={exports:{}},em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function uS(){return vv||(vv=1,function(r){function e(F,ae){var he=F.length;F.push(ae);e:for(;0<he;){var ke=he-1>>>1,D=F[ke];if(0<o(D,ae))F[ke]=ae,F[he]=D,he=ke;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ae=F[0],he=F.pop();if(he!==ae){F[0]=he;e:for(var ke=0,D=F.length,ee=D>>>1;ke<ee;){var le=2*(ke+1)-1,te=F[le],me=le+1,we=F[me];if(0>o(te,he))me<D&&0>o(we,te)?(F[ke]=we,F[me]=he,ke=me):(F[ke]=te,F[le]=he,ke=le);else if(me<D&&0>o(we,he))F[ke]=we,F[me]=he,ke=me;else break e}}return ae}function o(F,ae){var he=F.sortIndex-ae.sortIndex;return he!==0?he:F.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,T=null,b=3,N=!1,U=!1,Z=!1,Q=!1,ce=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ne(F){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=F)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function re(F){if(Z=!1,ne(F),!U)if(n(p)!==null)U=!0,ue||(ue=!0,k());else{var ae=n(g);ae!==null&&qe(re,ae.startTime-F)}}var ue=!1,x=-1,S=5,I=-1;function O(){return Q?!0:!(r.unstable_now()-I<S)}function M(){if(Q=!1,ue){var F=r.unstable_now();I=F;var ae=!0;try{e:{U=!1,Z&&(Z=!1,se(x),x=-1),N=!0;var he=b;try{t:{for(ne(F),T=n(p);T!==null&&!(T.expirationTime>F&&O());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,b=T.priorityLevel;var D=ke(T.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){T.callback=D,ne(F),ae=!0;break t}T===n(p)&&s(p),ne(F)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var ee=n(g);ee!==null&&qe(re,ee.startTime-F),ae=!1}}break e}finally{T=null,b=he,N=!1}ae=void 0}}finally{ae?k():ue=!1}}}var k;if(typeof ie=="function")k=function(){ie(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Be=R.port2;R.port1.onmessage=M,k=function(){Be.postMessage(null)}}else k=function(){ce(M,0)};function qe(F,ae){x=ce(function(){F(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(F){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var he=b;b=ae;try{return F()}finally{b=he}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=b;b=F;try{return ae()}finally{b=he}},r.unstable_scheduleCallback=function(F,ae,he){var ke=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=he+D,F={id:v++,callback:ae,priorityLevel:F,startTime:he,expirationTime:D,sortIndex:-1},he>ke?(F.sortIndex=he,e(g,F),n(p)===null&&F===n(g)&&(Z?(se(x),x=-1):Z=!0,qe(re,he-ke))):(F.sortIndex=D,e(p,F),U||N||(U=!0,ue||(ue=!0,k()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var ae=b;return function(){var he=b;b=ae;try{return F.apply(this,arguments)}finally{b=he}}}}(em)),em}var Ev;function cS(){return Ev||(Ev=1,Jd.exports=uS()),Jd.exports}var tm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function hS(){if(Tv)return Xt;Tv=1;var r=rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Xt.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:N}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var bv;function IT(){if(bv)return tm.exports;bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=hS(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function fS(){if(Av)return Cl;Av=1;var r=cS(),e=rp(),n=IT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,A=h.child;A;){if(A===a){E=!0,a=h,l=d;break}if(A===l){E=!0,l=h,a=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===a){E=!0,a=d,l=h;break}if(A===l){E=!0,l=d,a=h;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case Q:return"Profiler";case Z:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var qe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ke=[],D=-1;function ee(t){return{current:t}}function le(t){0>D||(t.current=ke[D],ke[D]=null,D--)}function te(t,i){D++,ke[D]=t.current,t.current=i}var me=ee(null),we=ee(null),Te=ee(null),gt=ee(null);function Xe(t,i){switch(te(Te,i),te(we,t),te(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?H_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=H_(i),t=F_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(me),te(me,t)}function sn(){le(me),le(we),le(Te)}function En(t){t.memoizedState!==null&&te(gt,t);var i=me.current,a=F_(i,t.type);i!==a&&(te(we,t),te(me,a))}function Un(t){we.current===t&&(le(me),le(we)),gt.current===t&&(le(gt),bl._currentValue=he)}var $n=Object.prototype.hasOwnProperty,Ln=r.unstable_scheduleCallback,Tn=r.unstable_cancelCallback,et=r.unstable_shouldYield,ns=r.unstable_requestPaint,Kt=r.unstable_now,Xh=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,$h=r.unstable_LowPriority,Ws=r.unstable_IdlePriority,To=r.log,uu=r.unstable_setDisableYieldValue,ut=null,Ke=null;function hn(t){if(typeof To=="function"&&uu(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ut,t)}catch{}}var Qt=Math.clz32?Math.clz32:rs,cu=Math.log,Zh=Math.LN2;function rs(t){return t>>>=0,t===0?32:31-(cu(t)/Zh|0)|0}var ss=256,as=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Js(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=jn(l):(E&=A,E!==0?h=jn(E):a||(a=A&~t,a!==0&&(h=jn(a))))):(A=l&~d,A!==0?h=jn(A):E!==0?h=jn(E):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function os(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function wo(){var t=as;return as<<=1,(as&62914560)===0&&(as=4194304),t}function Ti(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function So(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-Qt(a),W=1<<Y;A[Y]=0,C[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var q=B[Y];q!==null&&(q.lane&=-536870913)}a&=~W}l!==0&&Zn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Zn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function hu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var st=Math.random().toString(36).slice(2),St="__reactFiber$"+st,yt="__reactProps$"+st,bn="__reactContainer$"+st,Io="__reactEvents$"+st,Wh="__reactListeners$"+st,ur="__reactHandles$"+st,fu="__reactResources$"+st,ls="__reactMarker$"+st;function cr(t){delete t[St],delete t[yt],delete t[Io],delete t[Wh],delete t[ur]}function Ai(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Y_(t);t!==null;){if(a=t[St])return a;t=Y_(t)}return i}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[St]||t[bn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Jn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[fu];return i||(i=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[ls]=!0}var Co=new Set,ta={};function zn(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(ta[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},us={};function pu(t){return $n.call(us,t)?!0:$n.call(mu,t)?!1:du.test(t)?us[t]=!0:(mu[t]=!0,!1)}function hr(t,i,a){if(pu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ei(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var cs,gu;function Si(t){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",gu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+gu}var na=!1;function ia(t,i){if(!t||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var B=q}Reflect.construct(t,[],W)}else{try{W.call()}catch(q){B=q}t.call(W.prototype)}}else{try{throw Error()}catch(q){B=q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var C=E.split(`
`),z=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Si(a):""}function xo(t){switch(t.tag){case 26:case 27:case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return ia(t.type,!1);case 11:return ia(t.type.render,!1);case 1:return ia(t.type,!0);case 31:return Si("Activity");default:return""}}function ra(t){try{var i="";do i+=xo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function No(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jh(t){var i=No(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function sa(t){t._valueTracker||(t._valueTracker=Jh(t))}function Do(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=No(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ef=/[\n"\\]/g;function _t(t){return t.replace(ef,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(t,i,a,l,h,d,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?fr(t,E,tn(i)):a!=null?fr(t,E,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+tn(A):t.removeAttribute("name")}function fs(t,i,a,l,h,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function fr(t,i,a){i==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function ds(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ms.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Oo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&yu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&yu(t,d,i[d])}function Mo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return nf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,xi=null;function Vo(t){var i=Wn(t);if(i&&(t=i.stateNode)){var a=t[yt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Do(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(t,!!a.multiple,i,!1)}}}var ti=!1;function _u(t,i,a){if(ti)return t(i,a);ti=!0;try{var l=t(i);return l}finally{if(ti=!1,(Ci!==null||xi!==null)&&(hc(),Ci&&(i=Ci,t=xi,xi=Ci=null,Vo(i),t)))for(i=0;i<t.length;i++)Vo(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Bn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Sn=!1}var ni=null,dr=null,Ni=null;function ko(){if(Ni)return Ni;var t,i=dr,a=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ii(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Po(){return!1}function Dt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Po,this.isPropagationStopped=Po,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Dt(Fe),ys=v({},Fe,{view:0,detail:0}),vu=Dt(ys),la,ua,si,_s=v({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(la=t.screenX-si.screenX,ua=t.screenY-si.screenY):ua=la=0,si=t),la)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Rn=Dt(_s),Eu=v({},_s,{dataTransfer:0}),rf=Dt(Eu),vs=v({},ys,{relatedTarget:0}),ca=Dt(vs),Uo=v({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Dt(Uo),Tu=v({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=Dt(Tu),sf=v({},Fe,{data:0}),Lo=Dt(sf),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Au[t])?!!i[t]:!1}function Ts(){return jo}var wu=v({},ys,{key:function(t){if(t.key){var i=Es[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=Dt(wu),Su=v({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=Dt(Su),Di=v({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Ru=Dt(Di),Iu=v({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Dt(Iu),xu=v({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=Dt(xu),nn=v({},Fe,{newState:0,oldState:0}),Nu=Dt(nn),Du=[9,13,27,32],ai=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,_=Bn&&(!ai||c&&8<c&&11>=c),w=" ",L=!1;function G(t,i){switch(t){case"keyup":return Du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Rt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(L=!0,w);case"textInput":return t=i.data,t===w&&L?null:t;default:return null}}function Ue(t,i){if(Pe)return t==="compositionend"||!ai&&G(t,i)?(t=ko(),Ni=dr=ni=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Oi(t,i,a,l){Ci?xi?xi.push(l):xi=[l]:Ci=l,i=yc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jt=null,oi=null;function Bo(t){L_(t,0)}function Ou(t){var i=Jn(t);if(Do(i))return t}function sg(t,i){if(t==="change")return i}var ag=!1;if(Bn){var af;if(Bn){var of="oninput"in document;if(!of){var og=document.createElement("div");og.setAttribute("oninput","return;"),of=typeof og.oninput=="function"}af=of}else af=!1;ag=af&&(!document.documentMode||9<document.documentMode)}function lg(){jt&&(jt.detachEvent("onpropertychange",ug),oi=jt=null)}function ug(t){if(t.propertyName==="value"&&Ou(oi)){var i=[];Oi(i,oi,t,wn(t)),_u(Bo,i)}}function kA(t,i,a){t==="focusin"?(lg(),jt=i,oi=a,jt.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function PA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(oi)}function UA(t,i){if(t==="click")return Ou(i)}function LA(t,i){if(t==="input"||t==="change")return Ou(i)}function jA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:jA;function qo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!$n.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hs(t.document)}return i}function lf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zA=Bn&&"documentMode"in document&&11>=document.documentMode,pa=null,uf=null,Ho=null,cf=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cf||pa==null||pa!==hs(l)||(l=pa,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=yc(uf,"onSelect"),0<l.length&&(i=new oa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=pa)))}function bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},hf={},pg={};Bn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function As(t){if(hf[t])return hf[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return hf[t]=i[a];return t}var gg=As("animationend"),yg=As("animationiteration"),_g=As("animationstart"),BA=As("transitionrun"),qA=As("transitionstart"),HA=As("transitioncancel"),vg=As("transitionend"),Eg=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function qn(t,i){Eg.set(t,i),zn(i,[t])}var Tg=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ra(i)},Tg.set(t,i),i)}return{value:t,source:i,stack:ra(i)}}var Cn=[],ya=0,df=0;function Mu(){for(var t=ya,i=df=ya=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Vu(t,i,a,l){Cn[ya++]=t,Cn[ya++]=i,Cn[ya++]=a,Cn[ya++]=l,df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function mf(t,i,a,l){return Vu(t,i,a,l),ku(t)}function _a(t,i){return Vu(t,null,null,i),ku(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ku(t){if(50<ml)throw ml=0,Ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function FA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new FA(t,i,a,l)}function pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")pf(t)&&(E=1);else if(typeof t=="string")E=Kw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=mn(31,a,i,h),t.elementType=I,t.lanes=d,t;case U:return ws(a.children,h,d,i);case Z:E=8,h|=24;break;case Q:return t=mn(12,a,i,h|2),t.elementType=Q,t.lanes=d,t;case re:return t=mn(13,a,i,h),t.elementType=re,t.lanes=d,t;case ue:return t=mn(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:case ie:E=10;break e;case se:E=9;break e;case ne:E=11;break e;case x:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ws(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function gf(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function yf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ea=[],Ta=0,Uu=null,Lu=0,xn=[],Nn=0,Ss=null,Vi=1,ki="";function Rs(t,i){Ea[Ta++]=Lu,Ea[Ta++]=Uu,Uu=t,Lu=i}function wg(t,i,a){xn[Nn++]=Vi,xn[Nn++]=ki,xn[Nn++]=Ss,Ss=t;var l=Vi;t=ki;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Vi=1<<32-Qt(i)+h|a<<h|l,ki=d+t}else Vi=1<<d|a<<h|l,ki=t}function _f(t){t.return!==null&&(Rs(t,1),wg(t,1,0))}function vf(t){for(;t===Uu;)Uu=Ea[--Ta],Ea[Ta]=null,Lu=Ea[--Ta],Ea[Ta]=null;for(;t===Ss;)Ss=xn[--Nn],xn[Nn]=null,ki=xn[--Nn],xn[Nn]=null,Vi=xn[--Nn],xn[Nn]=null}var rn=null,ct=null,He=!1,Is=null,li=!1,Ef=Error(s(519));function Cs(t){var i=Error(s(418,""));throw Ko(In(i,t)),Ef}function Sg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[yt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)De(gl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),ds(i,l.value,l.defaultValue,l.children),sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||q_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=_c),i=!0):i=!1,i||Cs(t)}function Rg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function Fo(t){if(t!==rn)return!1;if(!He)return Rg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pd(t.type,t.memoizedProps)),a=!a),a&&ct&&Cs(t),Rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,xr(t.type)?(t=zd,zd=null,ct=t):ct=i):ct=rn?Fn(t.stateNode.nextSibling):null;return!0}function Go(){ct=rn=null,He=!1}function Ig(){var t=Is;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Is=null),t}function Ko(t){Is===null?Is=[t]:Is.push(t)}var Tf=ee(null),xs=null,Pi=null;function mr(t,i,a){te(Tf,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=Tf.current,le(Tf)}function bf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Af(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),bf(d.return,a,t),l||(E=null);break e}d=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),bf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=h.type;dn(h.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(h===gt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Af(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ns(t){xs=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Cg(xs,t)}function zu(t,i){return xs===null&&Ns(t),Cg(t,i)}function Cg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var GA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},KA=r.unstable_scheduleCallback,QA=r.unstable_NormalPriority,Ct={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new GA,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&KA(QA,function(){t.controller.abort()})}var Xo=null,Sf=0,ba=0,Aa=null;function YA(t,i){if(Xo===null){var a=Xo=[];Sf=0,ba=Id(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(xg,xg),i}function xg(){if(--Sf===0&&Xo!==null){Aa!==null&&(Aa.status="fulfilled");var t=Xo;Xo=null,ba=0,Aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&YA(t,i),Ng!==null&&Ng(t,i)};var Ds=ee(null);function Rf(){var t=Ds.current;return t!==null?t:nt.pooledCache}function Bu(t,i){i===null?te(Ds,Ds.current):te(Ds,i.pool)}function Dg(){var t=Rf();return t===null?null:{parent:Ct._currentValue,pool:t}}var $o=Error(s(460)),Og=Error(s(474)),qu=Error(s(542)),If={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function Vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Hu,Hu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Hu,Hu);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Zo=i,$o}}var Zo=null;function kg(){if(Zo===null)throw Error(s(459));var t=Zo;return Zo=null,t}function Pg(t){if(t===$o||t===qu)throw Error(s(483))}var pr=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(t),bg(t,null,a),i}return Vu(t,l,i,a),ku(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}function Nf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Df=!1;function Jo(){if(Df){var t=Aa;if(t!==null)throw t}}function el(t,i,a,l){Df=!1;var h=t.updateQueue;pr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,z=C.next;C.next=null,E===null?d=z:E.next=z,E=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==E&&(A===null?Y.firstBaseUpdate=z:A.next=z,Y.lastBaseUpdate=C))}if(d!==null){var W=h.baseState;E=0,Y=z=C=null,A=d;do{var B=A.lane&-536870913,q=B!==A.lane;if(q?(Le&B)===B:(l&B)===B){B!==0&&B===ba&&(Df=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=t,_e=A;B=i;var Je=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){W=be.call(Je,W,B);break e}W=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,B=typeof be=="function"?be.call(Je,W,B):be,B==null)break e;W=v({},W,B);break e;case 2:pr=!0}}B=A.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(z=Y=q,C=W):Y=Y.next=q,E|=B;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;q=A,A=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(C=W),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Sr|=E,t.lanes=E,t.memoizedState=W}}function Ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Lg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var wa=ee(null),Fu=ee(0);function jg(t,i){t=Fi,te(Fu,t),te(wa,i),Fi=t|i.baseLanes}function Of(){te(Fu,Fi),te(wa,wa.current)}function Mf(){Fi=Fu.current,le(wa),le(Fu)}var _r=0,Ce=null,Ze=null,vt=null,Gu=!1,Sa=!1,Os=!1,Ku=0,tl=0,Ra=null,$A=0;function dt(){throw Error(s(321))}function Vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function kf(t,i,a,l,h,d){return _r=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?by:Ay,Os=!1,d=a(l,h),Os=!1,Sa&&(d=Bg(i,a,l,h)),zg(t),d}function zg(t){F.H=Wu;var i=Ze!==null&&Ze.next!==null;if(_r=0,vt=Ze=Ce=null,Gu=!1,tl=0,Ra=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&ju(t)&&(Mt=!0))}function Bg(t,i,a,l){Ce=t;var h=0;do{if(Sa&&(Ra=null),tl=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,vt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=iw,d=i(a,l)}while(Sa);return d}function ZA(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Pf(){var t=Ku!==0;return Ku=0,t}function Uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(Gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Gu=!1}_r=0,vt=Ze=Ce=null,Sa=!1,tl=Ku=0,Ra=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ce.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=vt===null?Ce.memoizedState:vt.next;if(i!==null)vt=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},vt===null?Ce.memoizedState=vt=t:vt=vt.next=t}return vt}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,Ra===null&&(Ra=[]),t=Vg(Ra,t,i),i=Ce,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?by:Ay),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===ie)return Yt(t)}throw Error(s(438,String(t)))}function zf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jf(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function Yu(t){var i=Et();return Bf(i,Ze,t)}function Bf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=E=null,C=null,z=i,Y=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Le&W)===W:(_r&W)===W){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===ba&&(Y=!0);else if((_r&B)===B){z=z.next,B===ba&&(Y=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=W,E=d):C=C.next=W,Ce.lanes|=B,Sr|=B;W=z.action,Os&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else B={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=B,E=d):C=C.next=B,Ce.lanes|=W,Sr|=W;z=z.next}while(z!==null&&z!==i);if(C===null?E=d:C.next=A,!dn(d,t.memoizedState)&&(Mt=!0,Y&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);dn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qg(t,i,a){var l=Ce,h=Et(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!dn((Ze||h).memoizedState,a);E&&(h.memoizedState=a,Mt=!0),h=h.queue;var A=Gg.bind(null,l,h,t);if(il(2048,8,A,[t]),h.getSnapshot!==i||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Ia(9,Xu(),Fg.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(_r&124)!==0||Hg(l,i,a)}return a}function Hg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=jf(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Fg(t,i,a,l){i.value=a,i.getSnapshot=l,Kg(i)&&Qg(t)}function Gg(t,i,a){return a(function(){Kg(i)&&Qg(t)})}function Kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Qg(t){var i=_a(t,2);i!==null&&vn(i,t,2)}function Hf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Os){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function Yg(t,i,a,l){return t.baseState=a,Bf(t,Ze,typeof l=="function"?l:Li)}function WA(t,i,a,l,h){if(Zu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Xg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Xg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,E={};F.T=E;try{var A=a(h,l),C=F.S;C!==null&&C(E,A),$g(t,i,A)}catch(z){Ff(t,i,z)}finally{F.T=d}}else try{d=a(h,l),$g(t,i,d)}catch(z){Ff(t,i,z)}}function $g(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zg(t,i,l)},function(l){return Ff(t,i,l)}):Zg(t,i,a)}function Zg(t,i,a){i.status="fulfilled",i.value=a,Wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Xg(t,a)))}function Ff(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Jg(t,i){return i}function ey(t,i){if(He){var a=nt.formState;if(a!==null){e:{var l=Ce;if(He){if(ct){t:{for(var h=ct,d=li;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Fn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},a.queue=l,a=vy.bind(null,Ce,l),l.dispatch=a,l=Hf(!1),d=Xf.bind(null,Ce,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=WA.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ty(t){var i=Et();return ny(i,Ze,t)}function ny(t,i,a){if(i=Bf(t,i,Jg)[0],t=Yu(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(E){throw E===$o?qu:E}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ia(9,Xu(),JA.bind(null,h,a),null)),[l,d,t]}function JA(t,i){t.action=i}function iy(t){var i=Et(),a=Ze;if(a!==null)return ny(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ia(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=jf(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function ry(){return Et().memoizedState}function $u(t,i,a,l){var h=an();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Ia(1|i,Xu(),a,l)}function il(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Vf(l,Ze.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ce.flags|=t,h.memoizedState=Ia(1|i,d,a,l))}function sy(t,i){$u(8390656,8,t,i)}function ay(t,i){il(2048,8,t,i)}function oy(t,i){return il(4,2,t,i)}function ly(t,i){return il(4,4,t,i)}function uy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function cy(t,i,a){a=a!=null?a.concat([t]):null,il(4,4,uy.bind(null,i,t),a)}function Gf(){}function hy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function fy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vf(i,l[1]))return l[0];if(l=t(),Os){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function Kf(t,i,a){return a===void 0||(_r&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=p_(),Ce.lanes|=t,Sr|=t,a)}function dy(t,i,a,l){return dn(a,i)?a:wa.current!==null?(t=Kf(t,a,l),dn(t,i)||(Mt=!0),t):(_r&42)===0?(Mt=!0,t.memoizedState=a):(t=p_(),Ce.lanes|=t,Sr|=t,i)}function my(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=F.T,A={};F.T=A,Xf(t,!1,i,a);try{var C=h(),z=F.S;if(z!==null&&z(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=XA(C,l);rl(t,i,Y,_n(t))}else rl(t,i,l,_n(t))}catch(W){rl(t,i,{then:function(){},status:"rejected",reason:W},_n())}finally{ae.p=d,F.T=E}}function ew(){}function Qf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=py(t).queue;my(t,h,i,he,a===null?ew:function(){return gy(t),a(l)})}function py(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function gy(t){var i=py(t).next.queue;rl(t,i,{},_n())}function Yf(){return Yt(bl)}function yy(){return Et().memoizedState}function _y(){return Et().memoizedState}function tw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=gr(a);var l=yr(i,t,a);l!==null&&(vn(l,i,a),Wo(l,i,a)),i={cache:wf()},t.payload=i;return}i=i.return}}function nw(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Ey(i,a):(a=mf(t,i,a,l),a!==null&&(vn(a,t,l),Ty(a,i,l)))}function vy(t,i,a){var l=_n();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Ey(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,A=d(E,a);if(h.hasEagerState=!0,h.eagerState=A,dn(A,E))return Vu(t,i,h,0),nt===null&&Mu(),!1}catch{}finally{}if(a=mf(t,i,h,l),a!==null)return vn(a,t,l),Ty(a,i,l),!0}return!1}function Xf(t,i,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(i)throw Error(s(479))}else i=mf(t,a,l,2),i!==null&&vn(i,t,2)}function Zu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Ey(t,i){Sa=Gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ty(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}var Wu={readContext:Yt,use:Qu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},by={readContext:Yt,use:Qu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:sy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,$u(4194308,4,uy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return $u(4194308,4,t,i)},useInsertionEffect:function(t,i){$u(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Os){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(Os){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=nw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Hf(t);var i=t.queue,a=vy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(t,i){var a=an();return Kf(a,t,i)},useTransition:function(){var t=Hf(!1);return t=my.bind(null,Ce,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=an();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Le&124)!==0||Hg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,sy(Gg.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,Xu(),Fg.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=nt.identifierPrefix;if(He){var a=ki,l=Vi;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=$A++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:ey,useActionState:ey,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:zf,useCacheRefresh:function(){return an().memoizedState=tw.bind(null,Ce)}},Ay={readContext:Yt,use:Qu,useCallback:hy,useContext:Yt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:Yu,useRef:ry,useState:function(){return Yu(Li)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=Et();return dy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Yu(Li)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Yf,useFormState:ty,useActionState:ty,useOptimistic:function(t,i){var a=Et();return Yg(a,Ze,t,i)},useMemoCache:zf,useCacheRefresh:_y},iw={readContext:Yt,use:Qu,useCallback:hy,useContext:Yt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:qf,useRef:ry,useState:function(){return qf(Li)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=Et();return Ze===null?Kf(a,t,i):dy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=qf(Li)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Yf,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=Et();return Ze!==null?Yg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:_y},Ca=null,sl=0;function Ju(t){var i=sl;return sl+=1,Ca===null&&(Ca=[]),Vg(Ca,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wy(t){var i=t._init;return i(t._payload)}function Sy(t){function i(P,V){if(t){var j=P.deletions;j===null?(P.deletions=[V],P.flags|=16):j.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Mi(P,V),P.index=0,P.sibling=null,P}function d(P,V,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<V?(P.flags|=67108866,V):j):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function E(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function A(P,V,j,X){return V===null||V.tag!==6?(V=gf(j,P.mode,X),V.return=P,V):(V=h(V,j),V.return=P,V)}function C(P,V,j,X){var pe=j.type;return pe===U?Y(P,V,j.props.children,X,j.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&wy(pe)===V.type)?(V=h(V,j.props),al(V,j),V.return=P,V):(V=Pu(j.type,j.key,j.props,null,P.mode,X),al(V,j),V.return=P,V)}function z(P,V,j,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=yf(j,P.mode,X),V.return=P,V):(V=h(V,j.children||[]),V.return=P,V)}function Y(P,V,j,X,pe){return V===null||V.tag!==7?(V=ws(j,P.mode,X,pe),V.return=P,V):(V=h(V,j),V.return=P,V)}function W(P,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gf(""+V,P.mode,j),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return j=Pu(V.type,V.key,V.props,null,P.mode,j),al(j,V),j.return=P,j;case N:return V=yf(V,P.mode,j),V.return=P,V;case S:var X=V._init;return V=X(V._payload),W(P,V,j)}if(qe(V)||k(V))return V=ws(V,P.mode,j,null),V.return=P,V;if(typeof V.then=="function")return W(P,Ju(V),j);if(V.$$typeof===ie)return W(P,zu(P,V),j);ec(P,V)}return null}function B(P,V,j,X){var pe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:A(P,V,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===pe?C(P,V,j,X):null;case N:return j.key===pe?z(P,V,j,X):null;case S:return pe=j._init,j=pe(j._payload),B(P,V,j,X)}if(qe(j)||k(j))return pe!==null?null:Y(P,V,j,X,null);if(typeof j.then=="function")return B(P,V,Ju(j),X);if(j.$$typeof===ie)return B(P,V,zu(P,j),X);ec(P,j)}return null}function q(P,V,j,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(j)||null,A(V,P,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return P=P.get(X.key===null?j:X.key)||null,C(V,P,X,pe);case N:return P=P.get(X.key===null?j:X.key)||null,z(V,P,X,pe);case S:var xe=X._init;return X=xe(X._payload),q(P,V,j,X,pe)}if(qe(X)||k(X))return P=P.get(j)||null,Y(V,P,X,pe,null);if(typeof X.then=="function")return q(P,V,j,Ju(X),pe);if(X.$$typeof===ie)return q(P,V,j,zu(V,X),pe);ec(V,X)}return null}function be(P,V,j,X){for(var pe=null,xe=null,ge=V,ve=V=0,kt=null;ge!==null&&ve<j.length;ve++){ge.index>ve?(kt=ge,ge=null):kt=ge.sibling;var ze=B(P,ge,j[ve],X);if(ze===null){ge===null&&(ge=kt);break}t&&ge&&ze.alternate===null&&i(P,ge),V=d(ze,V,ve),xe===null?pe=ze:xe.sibling=ze,xe=ze,ge=kt}if(ve===j.length)return a(P,ge),He&&Rs(P,ve),pe;if(ge===null){for(;ve<j.length;ve++)ge=W(P,j[ve],X),ge!==null&&(V=d(ge,V,ve),xe===null?pe=ge:xe.sibling=ge,xe=ge);return He&&Rs(P,ve),pe}for(ge=l(ge);ve<j.length;ve++)kt=q(ge,P,ve,j[ve],X),kt!==null&&(t&&kt.alternate!==null&&ge.delete(kt.key===null?ve:kt.key),V=d(kt,V,ve),xe===null?pe=kt:xe.sibling=kt,xe=kt);return t&&ge.forEach(function(Vr){return i(P,Vr)}),He&&Rs(P,ve),pe}function _e(P,V,j,X){if(j==null)throw Error(s(151));for(var pe=null,xe=null,ge=V,ve=V=0,kt=null,ze=j.next();ge!==null&&!ze.done;ve++,ze=j.next()){ge.index>ve?(kt=ge,ge=null):kt=ge.sibling;var Vr=B(P,ge,ze.value,X);if(Vr===null){ge===null&&(ge=kt);break}t&&ge&&Vr.alternate===null&&i(P,ge),V=d(Vr,V,ve),xe===null?pe=Vr:xe.sibling=Vr,xe=Vr,ge=kt}if(ze.done)return a(P,ge),He&&Rs(P,ve),pe;if(ge===null){for(;!ze.done;ve++,ze=j.next())ze=W(P,ze.value,X),ze!==null&&(V=d(ze,V,ve),xe===null?pe=ze:xe.sibling=ze,xe=ze);return He&&Rs(P,ve),pe}for(ge=l(ge);!ze.done;ve++,ze=j.next())ze=q(ge,P,ve,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?ve:ze.key),V=d(ze,V,ve),xe===null?pe=ze:xe.sibling=ze,xe=ze);return t&&ge.forEach(function(rS){return i(P,rS)}),He&&Rs(P,ve),pe}function Je(P,V,j,X){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var pe=j.key;V!==null;){if(V.key===pe){if(pe=j.type,pe===U){if(V.tag===7){a(P,V.sibling),X=h(V,j.props.children),X.return=P,P=X;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&wy(pe)===V.type){a(P,V.sibling),X=h(V,j.props),al(X,j),X.return=P,P=X;break e}a(P,V);break}else i(P,V);V=V.sibling}j.type===U?(X=ws(j.props.children,P.mode,X,j.key),X.return=P,P=X):(X=Pu(j.type,j.key,j.props,null,P.mode,X),al(X,j),X.return=P,P=X)}return E(P);case N:e:{for(pe=j.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(P,V.sibling),X=h(V,j.children||[]),X.return=P,P=X;break e}else{a(P,V);break}else i(P,V);V=V.sibling}X=yf(j,P.mode,X),X.return=P,P=X}return E(P);case S:return pe=j._init,j=pe(j._payload),Je(P,V,j,X)}if(qe(j))return be(P,V,j,X);if(k(j)){if(pe=k(j),typeof pe!="function")throw Error(s(150));return j=pe.call(j),_e(P,V,j,X)}if(typeof j.then=="function")return Je(P,V,Ju(j),X);if(j.$$typeof===ie)return Je(P,V,zu(P,j),X);ec(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(P,V.sibling),X=h(V,j),X.return=P,P=X):(a(P,V),X=gf(j,P.mode,X),X.return=P,P=X),E(P)):a(P,V)}return function(P,V,j,X){try{sl=0;var pe=Je(P,V,j,X);return Ca=null,pe}catch(ge){if(ge===$o||ge===qu)throw ge;var xe=mn(29,ge,null,P.mode);return xe.lanes=X,xe.return=P,xe}finally{}}}var xa=Sy(!0),Ry=Sy(!1),Dn=ee(null),ui=null;function vr(t){var i=t.alternate;te(xt,xt.current&1),te(Dn,t),ui===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(ui=t)}function Iy(t){if(t.tag===22){if(te(xt,xt.current),te(Dn,t),ui===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ui=t)}}else Er()}function Er(){te(xt,xt.current),te(Dn,Dn.current)}function ji(t){le(Dn),ui===t&&(ui=null),le(xt)}var xt=ee(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function $f(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=gr(l);h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(vn(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=gr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(vn(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=gr(a);l.tag=2,i!=null&&(l.callback=i),i=yr(t,l,a),i!==null&&(vn(i,t,a),Wo(i,t,a))}};function Cy(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Zf.enqueueReplaceState(i,i.state,null)}function Ms(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){nc(t)}function Dy(t){console.error(t)}function Oy(t){nc(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function My(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,i,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function Vy(t){return t=gr(t),t.tag=3,t}function ky(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){My(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){My(i,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function rw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qo(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ui===null?bd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===If?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(t,l,h)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(t,l,h)),!1}throw Error(s(435,a.tag))}return wd(t,l,h),bd(),!1}if(He)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ef&&(t=Error(s(422),{cause:l}),Ko(In(t,a)))):(l!==Ef&&(i=Error(s(423),{cause:l}),Ko(In(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=Wf(t.stateNode,l,h),Nf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),dl===null?dl=[d]:dl.push(d),ht!==4&&(ht=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,l,t),Nf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),ky(h,t,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var Py=Error(s(461)),Mt=!1;function zt(t,i,a,l){i.child=t===null?Ry(i,null,a,l):xa(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Ns(i),l=kf(t,i,a,E,d,h),A=Pf(),t!==null&&!Mt?(Uf(t,i,h),zi(t,i,h)):(He&&A&&_f(i),i.flags|=1,zt(t,i,l,h),i.child)}function Ly(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,jy(t,i,d,l,h)):(t=Pu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ad(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(E,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function jy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,ad(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return Jf(t,i,a,l,h)}function zy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return By(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(i,d!==null?d.cachePool:null),d!==null?jg(i,d):Of(),Iy(i);else return i.lanes=i.childLanes=536870912,By(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Bu(i,d.cachePool),jg(i,d),Er(),i.memoizedState=null):(t!==null&&Bu(i,null),Of(),Er());return zt(t,i,h,a),i.child}function By(t,i,a,l){var h=Rf();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Bu(i,null),Of(),Iy(i),t!==null&&Qo(t,i,l,!0),null}function rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Jf(t,i,a,l,h){return Ns(i),a=kf(t,i,a,l,void 0,h),l=Pf(),t!==null&&!Mt?(Uf(t,i,h),zi(t,i,h)):(He&&l&&_f(i),i.flags|=1,zt(t,i,a,h),i.child)}function qy(t,i,a,l,h,d){return Ns(i),i.updateQueue=null,a=Bg(i,l,a,h),zg(t),l=Pf(),t!==null&&!Mt?(Uf(t,i,d),zi(t,i,d)):(He&&l&&_f(i),i.flags|=1,zt(t,i,a,d),i.child)}function Hy(t,i,a,l,h){if(Ns(i),i.stateNode===null){var d=va,E=a.contextType;typeof E=="object"&&E!==null&&(d=Yt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Yt(E):va,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&($f(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Zf.enqueueReplaceState(d,d.state,null),el(i,l,d,h),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,C=Ms(a,A);d.props=C;var z=d.context,Y=a.contextType;E=va,typeof Y=="object"&&Y!==null&&(E=Yt(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==E)&&xy(i,d,l,E),pr=!1;var B=i.memoizedState;d.state=B,el(i,l,d,h),Jo(),z=i.memoizedState,A||B!==z||pr?(typeof W=="function"&&($f(i,a,W,l),z=i.memoizedState),(C=pr||Cy(i,a,C,l,B,z,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,xf(t,i),E=i.memoizedProps,Y=Ms(a,E),d.props=Y,W=i.pendingProps,B=d.context,z=a.contextType,C=va,typeof z=="object"&&z!==null&&(C=Yt(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==W||B!==C)&&xy(i,d,l,C),pr=!1,B=i.memoizedState,d.state=B,el(i,l,d,h),Jo();var q=i.memoizedState;E!==W||B!==q||pr||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof A=="function"&&($f(i,a,A,l),q=i.memoizedState),(Y=pr||Cy(i,a,Y,l,B,q,C)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xa(i,t.child,null,h),i.child=xa(i,null,a,h)):zt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function Fy(t,i,a,l){return Go(),i.flags|=256,zt(t,i,a,l),i.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:Dg()}}function nd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function Gy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?vr(i):Er(),He){var A=ct,C;if(C=A){e:{for(C=A,A=li;C.nodeType!==8;){if(!A){A=null;break e}if(C=Fn(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(i.memoizedState={dehydrated:A,treeContext:Ss!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=A,C.return=i,i.child=C,rn=i,ct=null,C=!0):C=!1}C||Cs(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return jd(A)?i.lanes=32:i.lanes=536870912,null;ji(i)}return A=l.children,l=l.fallback,h?(Er(),h=i.mode,A=sc({mode:"hidden",children:A},h),l=ws(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=td(a),h.childLanes=nd(t,E,a),i.memoizedState=ed,l):(vr(i),id(i,A))}if(C=t.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(vr(i),i.flags&=-257,i=rd(t,i,a)):i.memoizedState!==null?(Er(),i.child=t.child,i.flags|=128,i=null):(Er(),h=l.fallback,A=i.mode,l=sc({mode:"visible",children:l.children},A),h=ws(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xa(i,t.child,null,a),l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,E,a),i.memoizedState=ed,i=h);else if(vr(i),jd(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var z=E.dgst;E=z,l=Error(s(419)),l.stack="",l.digest=E,Ko({value:l,source:null,stack:null}),i=rd(t,i,a)}else if(Mt||Qo(t,i,a,!1),E=(a&t.childLanes)!==0,Mt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,_a(t,l),vn(E,t,l),Py;A.data==="$?"||bd(),i=rd(t,i,a)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ct=Fn(A.nextSibling),rn=i,He=!0,Is=null,li=!1,t!==null&&(xn[Nn++]=Vi,xn[Nn++]=ki,xn[Nn++]=Ss,Vi=t.id,ki=t.overflow,Ss=i),i=id(i,l.children),i.flags|=4096);return i}return h?(Er(),h=l.fallback,A=i.mode,C=t.child,z=C.sibling,l=Mi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Mi(z,h):(h=ws(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=td(a):(C=A.cachePool,C!==null?(z=Ct._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Dg(),A={baseLanes:A.baseLanes|a,cachePool:C}),h.memoizedState=A,h.childLanes=nd(t,E,a),i.memoizedState=ed,l):(vr(i),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function id(t,i){return i=sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sc(t,i){return t=mn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function rd(t,i,a){return xa(i,t.child,null,a),t=id(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),bf(t.return,i,a)}function sd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,i,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,i);else if(t.tag===19)Ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(xt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(i,!0,a,null,d);break;case"together":sd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function sw(t,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),mr(i,Ct,t.memoizedState.cache),Go();break;case 27:case 5:En(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Gy(t,i,a):(vr(i),t=zi(t,i,a),t!==null?t.sibling:null);vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,zy(t,i,a);case 24:mr(i,Ct,t.memoizedState.cache)}return zi(t,i,a)}function Yy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!ad(t,a)&&(i.flags&128)===0)return Mt=!1,sw(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,He&&(i.flags&1048576)!==0&&wg(i,Lu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")pf(l)?(t=Ms(l,t),i.tag=1,i=Hy(null,i,l,t,a)):(i.tag=0,i=Jf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ne){i.tag=11,i=Uy(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=Ly(null,i,l,t,a);break e}}throw i=Be(l)||l,Error(s(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ms(l,i.pendingProps),Hy(t,i,l,h,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,xf(t,i),el(i,l,null,a);var E=i.memoizedState;if(l=E.cache,mr(i,Ct,l),l!==d.cache&&Af(i,[Ct],a,!0),Jo(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Fy(t,i,l,a);break e}else if(l!==h){h=In(Error(s(424)),i),Ko(h),i=Fy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Fn(t.firstChild),rn=i,He=!0,Is=null,li=!0,a=Ry(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===h){i=zi(t,i,a);break e}zt(t,i,l,a)}i=i.child}return i;case 26:return rc(t,i),t===null?(a=W_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=vc(Te.current).createElement(a),l[St]=i,l[yt]=t,qt(l,a,t),ft(l),i.stateNode=l):i.memoizedState=W_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return En(i),t===null&&He&&(l=i.stateNode=X_(i.type,i.pendingProps,Te.current),rn=i,li=!0,h=ct,xr(i.type)?(zd=h,ct=Fn(l.firstChild)):ct=h),zt(t,i,i.pendingProps.children,a),rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ct)&&(l=Mw(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,rn=i,ct=Fn(l.firstChild),li=!1,h=!0):h=!1),h||Cs(i)),En(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Pd(h,d)?l=null:E!==null&&Pd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(t,i,ZA,null,null,a),bl._currentValue=h),rc(t,i),zt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ct)&&(a=Vw(a,i.pendingProps,li),a!==null?(i.stateNode=a,rn=i,ct=null,t=!0):t=!1),t||Cs(i)),null;case 13:return Gy(t,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xa(i,null,l,a):zt(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return zt(t,i,i.pendingProps,a),i.child;case 8:return zt(t,i,i.pendingProps.children,a),i.child;case 12:return zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,mr(i,i.type,l.value),zt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ns(i),h=Yt(h),l=l(h),i.flags|=1,zt(t,i,l,a),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,a);case 15:return jy(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=sc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return zy(t,i,a);case 24:return Ns(i),l=Yt(Ct),t===null?(h=Rf(),h===null&&(h=nt,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),mr(i,Ct,h)):((t.lanes&a)!==0&&(xf(t,i),el(i,null,null,a),Jo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mr(i,Ct,l)):(l=d.cache,mr(i,Ct,l),l!==h.cache&&Af(i,[Ct],a,!0))),zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function Xy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iv(i)){if(i=Dn.current,i!==null&&((Le&4194048)===Le?ui!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ui))throw Zo=If,Og;t.flags|=8192}}function ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wo():536870912,t.lanes|=i,Ma|=i)}function ol(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function aw(t,i,a){var l=i.pendingProps;switch(vf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(Ct),sn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fo(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ig())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Bi(i),a!==null?(ot(i),Xy(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Bi(i),ot(i),Xy(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Bi(i),ot(i),i.flags&=-16777217),null;case 27:Un(i),a=Te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=me.current,Fo(i)?Sg(i):(t=X_(h,l,a),i.stateNode=t,Bi(i))}return ot(i),null;case 5:if(Un(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(t=me.current,Fo(i))Sg(i);else{switch(h=vc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[yt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,Fo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||Cs(i)}else t=vc(t).createTextNode(l),t[St]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ji(i),i):(ji(i),null)}if(ji(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ac(i,i.updateQueue),ot(i),null;case 4:return sn(),t===null&&Dd(i.stateNode.containerInfo),ot(i),null;case 10:return Ui(i.type),ot(i),null;case 19:if(le(xt),h=i.memoizedState,h===null)return ot(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,ol(h,!1),t=d.updateQueue,i.updateQueue=t,ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ag(a,t),a=a.sibling;return te(xt,xt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Kt()>uc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=tc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ac(i,t),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return ot(i),null}else 2*Kt()-h.renderingStartTime>uc&&a!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Kt(),i.sibling=null,t=xt.current,te(xt,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return ji(i),Mf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ow(t,i){switch(vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(Ct),sn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Un(i),null;case 13:if(ji(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(xt),null;case 4:return sn(),null;case 10:return Ui(i.type),null;case 22:case 23:return ji(i),Mf(),t!==null&&le(Ds),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(Ct),null;case 25:return null;default:return null}}function $y(t,i){switch(vf(i),i.tag){case 3:Ui(Ct),sn();break;case 26:case 27:case 5:Un(i);break;case 4:sn();break;case 13:ji(i);break;case 19:le(xt);break;case 10:Ui(i.type);break;case 22:case 23:ji(i),Mf(),t!==null&&le(Ds);break;case 24:Ui(Ct)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(A){tt(i,i.return,A)}}function Tr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var C=a,z=A;try{z()}catch(Y){tt(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){tt(i,i.return,Y)}}function Zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Lg(i,a)}catch(l){tt(t,t.return,l)}}}function Wy(t,i,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function od(t,i,a){try{var l=t.stateNode;Cw(l,t.type,a,i),l[yt]=i}catch(h){tt(t,t.return,h)}}function e_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xr(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_c));else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ud(t,i,a),t=t.sibling;t!==null;)ud(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}function t_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[St]=t,i[yt]=a}catch(d){tt(t,t.return,d)}}var qi=!1,mt=!1,cd=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function lw(t,i){if(t=t.containerInfo,Vd=Sc,t=dg(t),lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,A=-1,C=-1,z=0,Y=0,W=t,B=null;t:for(;;){for(var q;W!==a||h!==0&&W.nodeType!==3||(A=E+h),W!==d||l!==0&&W.nodeType!==3||(C=E+l),W.nodeType===3&&(E+=W.nodeValue.length),(q=W.firstChild)!==null;)B=W,W=q;for(;;){if(W===t)break t;if(B===a&&++z===h&&(A=E),B===d&&++Y===l&&(C=E),(q=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=q}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Sc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Ms(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){tt(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function i_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&ll(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){tt(a,a.return,E)}else{var h=Ms(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&Zy(a),l&512&&ul(a,a.return);break;case 3:if(br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lg(t,i)}catch(E){tt(a,a.return,E)}}break;case 27:i===null&&l&4&&t_(a);case 26:case 5:br(t,a),i===null&&l&4&&Jy(a),l&512&&ul(a,a.return);break;case 12:br(t,a);break;case 13:br(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yw.bind(null,a),kw(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||mt,h=qi;var d=mt;qi=l,(mt=i)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):br(t,a),qi=h,mt=d}break;case 30:break;default:br(t,a)}}function r_(t){var i=t.alternate;i!==null&&(t.alternate=null,r_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&cr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,on=!1;function Hi(t,i,a){for(a=a.child;a!==null;)s_(t,i,a),a=a.sibling}function s_(t,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||ci(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||ci(a,i);var l=at,h=on;xr(a.type)&&(at=a.stateNode,on=!1),Hi(t,i,a),_l(a.stateNode),at=l,on=h;break;case 5:mt||ci(a,i);case 6:if(l=at,h=on,at=null,Hi(t,i,a),at=l,on=h,at!==null)if(on)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:at!==null&&(on?(t=at,Q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):Q_(at,a.stateNode));break;case 4:l=at,h=on,at=a.stateNode.containerInfo,on=!0,Hi(t,i,a),at=l,on=h;break;case 0:case 11:case 14:case 15:mt||Tr(2,a,i),mt||Tr(4,a,i),Hi(t,i,a);break;case 1:mt||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wy(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Hi(t,i,a),mt=l;break;default:Hi(t,i,a)}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){tt(i,i.return,a)}}function uw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new n_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new n_),i;default:throw Error(s(435,t.tag))}}function hd(t,i){var a=uw(t);i.forEach(function(l){var h=_w.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(xr(A.type)){at=A.stateNode,on=!1;break e}break;case 5:at=A.stateNode,on=!1;break e;case 3:case 4:at=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(at===null)throw Error(s(160));s_(d,E,h),at=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var Hn=null;function o_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Tr(3,t,t.return),ll(3,t),Tr(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(mt||a===null||ci(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(pn(i,t),gn(t),l&512&&(mt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[St]=t,ft(d),l=d;break e;case"link":var E=tv("link","href",h).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=tv("meta","content",h).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ft(d),l=d}t.stateNode=l}else nv(h,t.type,t.stateNode);else t.stateNode=ev(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nv(h,t.type,t.stateNode):ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&od(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(mt||a===null||ci(a,a.return)),a!==null&&l&4&&od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(mt||a===null||ci(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(q){tt(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){tt(t,t.return,q)}}break;case 3:if(bc=null,h=Hn,Hn=Ec(i.containerInfo),pn(i,t),Hn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(q){tt(t,t.return,q)}cd&&(cd=!1,l_(t));break;case 4:l=Hn,Hn=Ec(t.stateNode.containerInfo),pn(i,t),gn(t),Hn=l;break;case 12:pn(i,t),gn(t);break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yd=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=qi,Y=mt;if(qi=z||h,mt=Y||C,pn(i,t),mt=Y,qi=z,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||qi||mt||Vs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=C.stateNode;var W=C.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){tt(C,C.return,q)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(q){tt(C,C.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hd(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(e_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ld(t);oc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(An(E,""),a.flags&=-33);var A=ld(t);oc(t,A,E);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ld(t);ud(t,z,C);break;default:throw Error(s(161))}}catch(Y){tt(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function br(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)i_(t,i.alternate,i),i=i.sibling}function Vs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),Vs(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wy(i,i.return,a),Vs(i);break;case 27:_l(i.stateNode);case 26:case 5:ci(i,i.return),Vs(i);break;case 22:i.memoizedState===null&&Vs(i);break;case 30:Vs(i);break;default:Vs(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),ll(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){tt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ug(C[h],A)}catch(z){tt(l,l.return,z)}}a&&E&64&&Zy(d),ul(d,d.return);break;case 27:t_(d);case 26:case 5:Ar(h,d,a),a&&l===null&&E&4&&Jy(d),ul(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&E&4&&a_(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),ul(d,d.return);break;case 30:break;default:Ar(h,d,a)}i=i.sibling}}function fd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function hi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,a,l),i=i.sibling}function u_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(t,i,a,l),h&2048&&ll(9,i);break;case 1:hi(t,i,a,l);break;case 3:hi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){hi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(i,i.return,C)}}else hi(t,i,a,l);break;case 13:hi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?hi(t,i,a,l):cl(t,i):d._visibility&2?hi(t,i,a,l):(d._visibility|=2,Na(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&fd(E,i);break;case 24:hi(t,i,a,l),h&2048&&dd(i.alternate,i);break;default:hi(t,i,a,l)}}function Na(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,A=a,C=l,z=E.flags;switch(E.tag){case 0:case 11:case 15:Na(d,E,A,C,h),ll(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?Na(d,E,A,C,h):cl(d,E):(Y._visibility|=2,Na(d,E,A,C,h)),h&&z&2048&&fd(E.alternate,E);break;case 24:Na(d,E,A,C,h),h&&z&2048&&dd(E.alternate,E);break;default:Na(d,E,A,C,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&fd(l.alternate,l);break;case 24:cl(a,l),h&2048&&dd(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Da(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 26:Da(t),t.flags&hl&&t.memoizedState!==null&&Yw(Hn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var i=Hn;Hn=Ec(t.stateNode.containerInfo),Da(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Da(t),hl=i):Da(t));break;default:Da(t)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,lc(t)):fl(t);break;default:fl(t)}}function lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lc(i));break;default:lc(i)}t=t.sibling}}function d_(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(r_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var cw={getCacheForType:function(t){var i=Yt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},hw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Ne=null,Le=0,Ye=0,yn=null,wr=!1,Oa=!1,md=!1,Fi=0,ht=0,Sr=0,ks=0,pd=0,On=0,Ma=0,dl=null,ln=null,gd=!1,yd=0,uc=1/0,cc=null,Rr=null,Bt=0,Ir=null,Va=null,ka=0,_d=0,vd=null,m_=null,ml=0,Ed=null;function _n(){if((Qe&2)!==0&&Le!==0)return Le&-Le;if(F.T!==null){var t=ba;return t!==0?t:Id()}return lr()}function p_(){On===0&&(On=(Le&536870912)===0||He?Ao():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),On}function vn(t,i,a){(t===nt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Cr(t,Le,On,!1)),bi(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(ks|=a),ht===4&&Cr(t,Le,On,!1)),fi(t))}function g_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||os(t,i),h=l?mw(t,i):Ad(t,i,!0),d=l;do{if(h===0){Oa&&!l&&Cr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!fw(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=t;h=dl;var C=A.current.memoizedState.isDehydrated;if(C&&(Pa(A,E).flags|=256),E=Ad(A,E,!1),E!==2){if(md&&!C){A.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Pa(t,0),Cr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Cr(l,i,On,!wr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yd+300-Kt(),10<h)){if(Cr(l,i,On,!wr),Js(l,0,!0)!==0)break e;l.timeoutHandle=G_(y_.bind(null,l,a,ln,cc,gd,i,On,ks,Ma,wr,d,2,-0,0),h);break e}y_(l,a,ln,cc,gd,i,On,ks,Ma,wr,d,0,-0,0)}}break}while(!0);fi(t)}function y_(t,i,a,l,h,d,E,A,C,z,Y,W,B,q){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:Qw},c_(i),W=Xw(),W!==null)){t.cancelPendingCommit=W(w_.bind(null,t,i,d,a,l,h,E,A,C,Y,1,B,q)),Cr(t,d,E,!z);return}w_(t,i,d,a,l,h,E,A,C)}function fw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cr(t,i,a,l){i&=~pd,i&=~ks,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Zn(t,a,i)}function hc(){return(Qe&6)===0?(pl(0),!1):!0}function Td(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Pi=xs=null,Lf(t),Ca=null,sl=0,t=Ne;for(;t!==null;)$y(t.alternate,t),t=t.return;Ne=null}}function Pa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Td(),nt=t,Ne=a=Mi(t.current,null),Le=i,Ye=0,yn=null,wr=!1,Oa=os(t,i),md=!1,Ma=On=pd=ks=Sr=ht=0,ln=dl=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Mu(),a}function __(t,i){Ce=null,F.H=Wu,i===$o||i===qu?(i=kg(),Ye=3):i===Og?(i=kg(),Ye=4):Ye=i===Py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ne===null&&(ht=1,ic(t,In(i,t.current)))}function v_(){var t=F.H;return F.H=Wu,t===null?Wu:t}function E_(){var t=F.A;return F.A=cw,t}function bd(){ht=4,wr||(Le&4194048)!==Le&&Dn.current!==null||(Oa=!0),(Sr&134217727)===0&&(ks&134217727)===0||nt===null||Cr(nt,Le,On,!1)}function Ad(t,i,a){var l=Qe;Qe|=2;var h=v_(),d=E_();(nt!==t||Le!==i)&&(cc=null,Pa(t,i)),i=!1;var E=ht;e:do try{if(Ye!==0&&Ne!==null){var A=Ne,C=yn;switch(Ye){case 8:Td(),E=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var z=Ye;if(Ye=0,yn=null,Ua(t,A,C,z),a&&Oa){E=0;break e}break;default:z=Ye,Ye=0,yn=null,Ua(t,A,C,z)}}dw(),E=ht;break}catch(Y){__(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Pi=xs=null,Qe=l,F.H=h,F.A=d,Ne===null&&(nt=null,Le=0,Mu()),E}function dw(){for(;Ne!==null;)T_(Ne)}function mw(t,i){var a=Qe;Qe|=2;var l=v_(),h=E_();nt!==t||Le!==i?(cc=null,uc=Kt()+500,Pa(t,i)):Oa=os(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=yn;t:switch(Ye){case 1:Ye=0,yn=null,Ua(t,i,d,1);break;case 2:case 9:if(Mg(d)){Ye=0,yn=null,b_(i);break}i=function(){Ye!==2&&Ye!==9||nt!==t||(Ye=7),fi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Mg(d)?(Ye=0,yn=null,b_(i)):(Ye=0,yn=null,Ua(t,i,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var A=Ne;if(!E||iv(E)){Ye=0,yn=null;var C=A.sibling;if(C!==null)Ne=C;else{var z=A.return;z!==null?(Ne=z,fc(z)):Ne=null}break t}}Ye=0,yn=null,Ua(t,i,d,5);break;case 6:Ye=0,yn=null,Ua(t,i,d,6);break;case 8:Td(),ht=6;break e;default:throw Error(s(462))}}pw();break}catch(Y){__(t,Y)}while(!0);return Pi=xs=null,F.H=l,F.A=h,Qe=a,Ne!==null?0:(nt=null,Le=0,Mu(),ht)}function pw(){for(;Ne!==null&&!et();)T_(Ne)}function T_(t){var i=Yy(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?fc(t):Ne=i}function b_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=qy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=qy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Lf(i);default:$y(a,i),i=Ne=Ag(i,Fi),i=Yy(a,i,Fi)}t.memoizedProps=t.pendingProps,i===null?fc(t):Ne=i}function Ua(t,i,a,l){Pi=xs=null,Lf(i),Ca=null,sl=0;var h=i.return;try{if(rw(t,h,i,a,Le)){ht=1,ic(t,In(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,ic(t,In(a,t.current)),Ne=null;return}i.flags&32768?(He||l===1?t=!0:Oa||(Le&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(i,t)):fc(i)}function fc(t){var i=t;do{if((i.flags&32768)!==0){A_(i,wr);return}t=i.return;var a=aw(i.alternate,i,Fi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function A_(t,i){do{var a=ow(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function w_(t,i,a,l,h,d,E,A,C){t.cancelPendingCommit=null;do dc();while(Bt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=df,So(t,a,d,E,A,C),t===nt&&(Ne=nt=null,Le=0),Va=i,Ir=t,ka=a,_d=d,vd=h,m_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vw(is,function(){return x_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ae.p,ae.p=2,E=Qe,Qe|=4;try{lw(t,i,a)}finally{Qe=E,ae.p=h,F.T=l}}Bt=1,S_(),R_(),I_()}}function S_(){if(Bt===1){Bt=0;var t=Ir,i=Va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var h=Qe;Qe|=4;try{o_(i,t);var d=kd,E=dg(t.containerInfo),A=d.focusedElem,C=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&fg(A.ownerDocument.documentElement,A)){if(C!==null&&lf(A)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Y,A.value.length);else{var W=A.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var q=B.getSelection(),be=A.textContent.length,_e=Math.min(C.start,be),Je=C.end===void 0?_e:Math.min(C.end,be);!q.extend&&_e>Je&&(E=Je,Je=_e,_e=E);var P=hg(A,_e),V=hg(A,Je);if(P&&V&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var j=W.createRange();j.setStart(P.node,P.offset),q.removeAllRanges(),_e>Je?(q.addRange(j),q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),q.addRange(j))}}}}for(W=[],q=A;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var X=W[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Sc=!!Vd,kd=Vd=null}finally{Qe=h,ae.p=l,F.T=a}}t.current=i,Bt=2}}function R_(){if(Bt===2){Bt=0;var t=Ir,i=Va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var h=Qe;Qe|=4;try{i_(t,i.alternate,i)}finally{Qe=h,ae.p=l,F.T=a}}Bt=3}}function I_(){if(Bt===4||Bt===3){Bt=0,ns();var t=Ir,i=Va,a=ka,l=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,Va=Ir=null,C_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),ea(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var A=l[E];d(A.value,{componentStack:A.stack})}}finally{F.T=i,ae.p=h}}(ka&3)!==0&&dc(),fi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ed?ml++:(ml=0,Ed=t):ml=0,pl(0)}}function C_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function dc(t){return S_(),R_(),I_(),x_()}function x_(){if(Bt!==5)return!1;var t=Ir,i=_d;_d=0;var a=ea(ka),l=F.T,h=ae.p;try{ae.p=32>a?32:a,F.T=null,a=vd,vd=null;var d=Ir,E=ka;if(Bt=0,Va=Ir=null,ka=0,(Qe&6)!==0)throw Error(s(331));var A=Qe;if(Qe|=4,f_(d.current),u_(d,d.current,E,a),Qe=A,pl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,F.T=l,C_(t,i)}}function N_(t,i,a){i=In(a,i),i=Wf(t.stateNode,i,2),t=yr(t,i,2),t!==null&&(bi(t,2),fi(t))}function tt(t,i,a){if(t.tag===3)N_(t,t,a);else for(;i!==null;){if(i.tag===3){N_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=In(a,t),a=Vy(2),l=yr(i,a,2),l!==null&&(ky(a,l,i,t),bi(l,2),fi(l));break}}i=i.return}}function wd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),t=gw.bind(null,t,i,a),i.then(t,t))}function gw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Kt()-yd?(Qe&2)===0&&Pa(t,0):pd|=a,Ma===Le&&(Ma=0)),fi(t)}function D_(t,i){i===0&&(i=wo()),t=_a(t,i),t!==null&&(bi(t,i),fi(t))}function yw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),D_(t,a)}function _w(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),D_(t,a)}function vw(t,i){return Ln(t,i)}var mc=null,La=null,Sd=!1,pc=!1,Rd=!1,Ps=0;function fi(t){t!==La&&t.next===null&&(La===null?mc=La=t:La=La.next=t),pc=!0,Sd||(Sd=!0,Tw())}function pl(t,i){if(!Rd&&pc){Rd=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=Le,d=Js(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,k_(l,d));l=l.next}while(a);Rd=!1}}function Ew(){O_()}function O_(){pc=Sd=!1;var t=0;Ps!==0&&(xw()&&(t=Ps),Ps=0);for(var i=Kt(),a=null,l=mc;l!==null;){var h=l.next,d=M_(l,i);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(pc=!0)),l=h}pl(t)}function M_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Qt(d),A=1<<E,C=h[E];C===-1?((A&a)===0||(A&l)!==0)&&(h[E]=bo(A,i)):C<=i&&(t.expiredLanes|=A),d&=~A}if(i=nt,a=Le,a=Js(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||os(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Tn(l),ea(a)){case 2:case 8:a=Zs;break;case 32:a=is;break;case 268435456:a=Ws;break;default:a=is}return l=V_.bind(null,t),a=Ln(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Tn(l),t.callbackPriority=2,t.callbackNode=null,2}function V_(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var l=Le;return l=Js(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,i),M_(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?V_.bind(null,t):null)}function k_(t,i){if(dc())return null;g_(t,i,!0)}function Tw(){Dw(function(){(Qe&6)!==0?Ln(Eo,Ew):O_()})}function Id(){return Ps===0&&(Ps=Ao()),Ps}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function U_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function bw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[yt]||null).action),E=l.submitter;E&&(i=(i=E[yt]||null)?P_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var A=new oa("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var C=E?U_(h,E):new FormData(h);Qf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=E?U_(h,E):new FormData(h),Qf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Cd=0;Cd<ff.length;Cd++){var xd=ff[Cd],Aw=xd.toLowerCase(),ww=xd[0].toUpperCase()+xd.slice(1);qn(Aw,"on"+ww)}qn(gg,"onAnimationEnd"),qn(yg,"onAnimationIteration"),qn(_g,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(BA,"onTransitionRun"),qn(qA,"onTransitionStart"),qn(HA,"onTransitionCancel"),qn(vg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function L_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var A=l[E],C=A.instance,z=A.currentTarget;if(A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Y){nc(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(A=l[E],C=A.instance,z=A.currentTarget,A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Y){nc(Y)}h.currentTarget=null,d=C}}}}function De(t,i){var a=i[Io];a===void 0&&(a=i[Io]=new Set);var l=t+"__bubble";a.has(l)||(j_(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),j_(a,t,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[gc]){t[gc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(Sw.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[gc]||(i[gc]=!0,Nd("selectionchange",!1,i))}}function j_(t,i,a,l){switch(uv(i)){case 2:var h=Ww;break;case 8:h=Jw;break;default:h=Gd}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=Ai(A),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}A=A.parentNode}}l=l.return}_u(function(){var z=d,Y=wn(a),W=[];e:{var B=Eg.get(t);if(B!==void 0){var q=oa,be=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":q=da;break;case"focusin":be="focus",q=ca;break;case"focusout":be="blur",q=ca;break;case"beforeblur":case"afterblur":q=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ru;break;case gg:case yg:case _g:q=ha;break;case vg:q=Cu;break;case"scroll":case"scrollend":q=vu;break;case"wheel":q=ma;break;case"copy":case"cut":case"paste":q=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zo;break;case"toggle":case"beforetoggle":q=Nu}var _e=(i&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),P=_e?B!==null?B+"Capture":null:B;_e=[];for(var V=z,j;V!==null;){var X=V;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||P===null||(X=ps(V,P),X!=null&&_e.push(yl(V,X,j))),Je)break;V=V.return}0<_e.length&&(B=new q(B,be,null,a,Y),W.push({event:B,listeners:_e}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==Ii&&(be=a.relatedTarget||a.fromElement)&&(Ai(be)||be[bn]))break e;if((q||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,q?(be=a.relatedTarget||a.toElement,q=z,be=be?Ai(be):null,be!==null&&(Je=u(be),_e=be.tag,be!==Je||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(q=null,be=z),q!==be)){if(_e=Rn,X="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=zo,X="onPointerLeave",P="onPointerEnter",V="pointer"),Je=q==null?B:Jn(q),j=be==null?B:Jn(be),B=new _e(X,V+"leave",q,a,Y),B.target=Je,B.relatedTarget=j,X=null,Ai(Y)===z&&(_e=new _e(P,V+"enter",be,a,Y),_e.target=j,_e.relatedTarget=Je,X=_e),Je=X,q&&be)t:{for(_e=q,P=be,V=0,j=_e;j;j=ja(j))V++;for(j=0,X=P;X;X=ja(X))j++;for(;0<V-j;)_e=ja(_e),V--;for(;0<j-V;)P=ja(P),j--;for(;V--;){if(_e===P||P!==null&&_e===P.alternate)break t;_e=ja(_e),P=ja(P)}_e=null}else _e=null;q!==null&&z_(W,B,q,_e,!1),be!==null&&Je!==null&&z_(W,Je,be,_e,!0)}}e:{if(B=z?Jn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var pe=sg;else if(It(B))if(ag)pe=LA;else{pe=PA;var xe=kA}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Mo(z.elementType)&&(pe=sg):pe=UA;if(pe&&(pe=pe(t,z))){Oi(W,pe,a,Y);break e}xe&&xe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&fr(B,"number",B.value)}switch(xe=z?Jn(z):window,t){case"focusin":(It(xe)||xe.contentEditable==="true")&&(pa=xe,uf=z,Ho=null);break;case"focusout":Ho=uf=pa=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,mg(W,a,Y);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":mg(W,a,Y)}var ge;if(ai)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?G(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(ge=ko()):(ni=Y,dr="value"in ni?ni.value:ni.textContent,Pe=!0)),xe=yc(z,ve),0<xe.length&&(ve=new Lo(ve,t,null,a,Y),W.push({event:ve,listeners:xe}),ge?ve.data=ge:(ge=oe(a),ge!==null&&(ve.data=ge)))),(ge=y?Rt(t,a):Ue(t,a))&&(ve=yc(z,"onBeforeInput"),0<ve.length&&(xe=new Lo("onBeforeInput","beforeinput",null,a,Y),W.push({event:xe,listeners:ve}),xe.data=ge)),bw(W,t,z,a,Y)}L_(W,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(t,a),h!=null&&l.unshift(yl(t,h,d)),h=ps(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z_(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var A=a,C=A.alternate,z=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||z===null||(C=z,h?(z=ps(a,d),z!=null&&E.unshift(yl(a,z,C))):h||(z=ps(a,d),z!=null&&E.push(yl(a,z,C)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var Rw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(Rw,`
`).replace(Iw,"")}function q_(t,i){return i=B_(i),B_(t)===i}function _c(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":ei(t,"class",l);break;case"tabIndex":ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,a,l);break;case"style":Oo(t,l,d);break;case"data":if(i!=="object"){ei(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),hr(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tf.get(a)||a,hr(t,a,l))}}function Md(t,i,a,l,h,d){switch(a){case"style":Oo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,E,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=d=E=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(t,i,l,Y,a,null)}}fs(t,d,A,C,z,E,h,!1),sa(t);return;case"select":De("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:We(t,i,h,A,a,null)}i=d,a=E,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:We(t,i,E,A,a,null)}ds(t,l,h,d),sa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)De(gl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,z,l,a,null)}return;default:if(Mo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Md(t,i,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function Cw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,A=null,C=null,z=null,Y=null;for(q in a){var W=a[q];if(a.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(q)||We(t,i,q,null,l,W)}}for(var B in l){var q=l[B];if(W=a[B],l.hasOwnProperty(B)&&(q!=null||W!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":E=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==W&&We(t,i,B,q,l,W)}}fn(t,E,A,C,z,Y,d,h);return;case"select":q=E=A=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==C&&We(t,i,h,d,l,C)}i=A,a=E,l=q,B!=null?Ri(t,!!a,B,!1):!!l!=!!a&&(i!=null?Ri(t,!!a,i,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,E,h,l,d)}$e(t,B,q);return;case"option":for(var be in a)if(B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:We(t,i,be,null,l,B)}for(C in l)if(B=l[C],q=a[C],l.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:We(t,i,C,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:We(t,i,z,B,l,q)}return;default:if(Mo(i)){for(var Je in a)B=a[Je],a.hasOwnProperty(Je)&&B!==void 0&&!l.hasOwnProperty(Je)&&Md(t,i,Je,void 0,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B===void 0&&q===void 0||Md(t,i,Y,B,l,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,B);for(W in l)B=l[W],q=a[W],!l.hasOwnProperty(W)||B===q||B==null&&q==null||We(t,i,W,B,l,q)}var Vd=null,kd=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function H_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function xw(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(t){return K_.resolve(null).then(t).catch(Ow)}:G_;function Ow(t){setTimeout(function(){throw t})}function xr(t){return t==="head"}function Q_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&_l(E.documentElement),a&2&&_l(E.body),a&4)for(a=E.head,_l(a),E=a.firstChild;E;){var A=E.nextSibling,C=E.nodeName;E[ls]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(h===0){t.removeChild(d),Rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ls])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function Vw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var zd=null;function Y_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function X_(t,i,a){switch(i=vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);cr(t)}var Mn=new Map,$_=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=ae.d;ae.d={f:Pw,r:Uw,D:Lw,C:jw,L:zw,m:Bw,X:Hw,S:qw,M:Fw};function Pw(){var t=Gi.f(),i=hc();return t||i}function Uw(t){var i=Wn(t);i!==null&&i.tag===5&&i.type==="form"?gy(i):Gi.r(t)}var za=typeof document>"u"?null:document;function Z_(t,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=_t(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$_.has(h)||($_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),ft(i),l.head.appendChild(i)))}}function Lw(t){Gi.D(t),Z_("dns-prefetch",t,null)}function jw(t,i){Gi.C(t,i),Z_("preconnect",t,i)}function zw(t,i,a){Gi.L(t,i,a);var l=za;if(l&&t&&i){var h='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var d=h;switch(i){case"style":d=Ba(t);break;case"script":d=qa(t)}Mn.has(d)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),qt(i,"link",t),ft(i),l.head.appendChild(i)))}}function Bw(t,i){Gi.m(t,i);var a=za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!Mn.has(d)&&(t=v({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),qt(l,"link",t),ft(l),a.head.appendChild(l)}}}function qw(t,i,a){Gi.S(t,i,a);var l=za;if(l&&t){var h=en(l).hoistableStyles,d=Ba(t);i=i||"default";var E=h.get(d);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(vl(d)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&Bd(t,a);var C=E=l.createElement("link");ft(C),qt(C,"link",t),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Tc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(d,E)}}}function Hw(t,i){Gi.X(t,i);var a=za;if(a&&t){var l=en(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=v({src:t,async:!0},i),(i=Mn.get(h))&&qd(t,i),d=a.createElement("script"),ft(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fw(t,i){Gi.M(t,i);var a=za;if(a&&t){var l=en(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=v({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&qd(t,i),d=a.createElement("script"),ft(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W_(t,i,a,l){var h=(h=Te.current)?Ec(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var d=en(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(vl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||Gw(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ba(t){return'href="'+_t(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function J_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Gw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),ft(i),t.head.appendChild(i))}function qa(t){return'[src="'+_t(t)+'"]'}function El(t){return"script[async]"+t}function ev(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),qt(l,"style",h),Tc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ba(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=J_(a),(h=Mn.get(h))&&Bd(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var E=d;return E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),qt(d,"link",l),i.state.loading|=4,Tc(d,a.precedence,t),i.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(El(d)))?(i.instance=h,ft(h),h):(l=a,(h=Mn.get(d))&&(l=v({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Tc(l,a.precedence,t));return i.instance}function Tc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bc=null;function tv(t,i,a){if(bc===null){var l=new Map,h=bc=new Map;h.set(a,l)}else h=bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var A=l.get(E);A?A.push(d):l.set(E,[d])}}return l}function nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Kw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function Qw(){}function Yw(t,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ba(a.href),d=t.querySelector(vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ac.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=J_(a),(h=Mn.get(h))&&Bd(a,h),d=d.createElement("link"),ft(d);var E=d;E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ac.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Xw(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&Hd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Hd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Hd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,i.forEach($w,t),wc=null,Ac.call(t))}function $w(t,i){if(!(i.state.loading&4)){var a=wc.get(t);if(a)var l=a.get(null);else{a=new Map,wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Zw(t,i,a,l,h,d,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function rv(t,i,a,l,h,d,E,A,C,z,Y,W){return t=new Zw(t,i,a,E,A,C,z,W),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=wf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),t}function sv(t){return t?(t=va,t):va}function av(t,i,a,l,h,d){h=sv(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,i),a!==null&&(vn(a,t,i),Wo(a,t,i))}function ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Fd(t,i){ov(t,i),(t=t.alternate)&&ov(t,i)}function lv(t){if(t.tag===13){var i=_a(t,67108864);i!==null&&vn(i,t,67108864),Fd(t,67108864)}}var Sc=!0;function Ww(t,i,a,l){var h=F.T;F.T=null;var d=ae.p;try{ae.p=2,Gd(t,i,a,l)}finally{ae.p=d,F.T=h}}function Jw(t,i,a,l){var h=F.T;F.T=null;var d=ae.p;try{ae.p=8,Gd(t,i,a,l)}finally{ae.p=d,F.T=h}}function Gd(t,i,a,l){if(Sc){var h=Kd(l);if(h===null)Od(t,i,l,Rc,a),cv(t,l);else if(tS(h,t,i,a,l))l.stopPropagation();else if(cv(t,l),i&4&&-1<eS.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var C=1<<31-Qt(E);A.entanglements[1]|=C,E&=~C}fi(d),(Qe&6)===0&&(uc=Kt()+500,pl(0))}}break;case 13:A=_a(d,2),A!==null&&vn(A,d,2),hc(),Fd(d,2)}if(d=Kd(l),d===null&&Od(t,i,l,Rc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,a)}}function Kd(t){return t=wn(t),Qd(t)}var Rc=null;function Qd(t){if(Rc=null,t=Ai(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Rc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xh()){case Eo:return 2;case Zs:return 8;case is:case $h:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Yd=!1,Nr=null,Dr=null,Or=null,Al=new Map,wl=new Map,Mr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Sl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function tS(t,i,a,l,h){switch(i){case"focusin":return Nr=Sl(Nr,t,i,a,l,h),!0;case"dragenter":return Dr=Sl(Dr,t,i,a,l,h),!0;case"mouseover":return Or=Sl(Or,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,Sl(Al.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Sl(wl.get(d)||null,t,i,a,l,h)),!0}return!1}function hv(t){var i=Ai(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,hu(t.priority,function(){if(a.tag===13){var l=_n();l=or(l);var h=_a(a,l);h!==null&&vn(h,a,l),Fd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return i=Wn(a),i!==null&&lv(i),t.blockedOn=a,!1;i.shift()}return!0}function fv(t,i,a){Ic(t)&&a.delete(i)}function nS(){Yd=!1,Nr!==null&&Ic(Nr)&&(Nr=null),Dr!==null&&Ic(Dr)&&(Dr=null),Or!==null&&Ic(Or)&&(Or=null),Al.forEach(fv),wl.forEach(fv)}function Cc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nS)))}var xc=null;function dv(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(i,3),i-=3,Qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(t){function i(C){return Cc(C,t)}Nr!==null&&Cc(Nr,t),Dr!==null&&Cc(Dr,t),Or!==null&&Cc(Or,t),Al.forEach(i),wl.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[yt]||null;if(typeof d=="function")E||dv(a);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[yt]||null)A=E.formAction;else if(Qd(h)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),dv(a)}}}function Xd(t){this._internalRoot=t}Nc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();av(a,l,t,i,null,null)},Nc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;av(t.current,2,null,t,null,null),hc(),i[bn]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var i=lr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&hv(t)}};var mv=e.version;if(mv!=="19.1.0")throw Error(s(527,mv,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{ut=Dc.inject(iS),Ke=Dc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ny,d=Dy,E=Oy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=rv(t,1,!1,null,null,a,l,h,d,E,A,null),t[bn]=i.current,Dd(t),new Xd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ny,E=Dy,A=Oy,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=rv(t,1,!0,i,a??null,l,h,d,E,A,C,z),i.context=sv(null),a=i.current,l=_n(),l=or(l),h=gr(l),h.callback=null,yr(a,h,l),a=l,i.current.lanes=a,bi(i,a),fi(i),t[bn]=i.current,Dd(t),new Nc(i)},Cl.version="19.1.0",Cl}var wv;function dS(){if(wv)return Wd.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=fS(),Wd.exports}var mS=dS(),nm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Sv;function pS(){return Sv||(Sv=1,function(r){(function(){var e={}.hasOwnProperty;function n(){for(var u="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var m in u)e.call(u,m)&&u[m]&&(f=o(f,m));return f}function o(u,f){return f?u?u+" "+f:u+f:u}r.exports?(n.default=n,r.exports=n):window.classNames=n})()}(nm)),nm.exports}var gS=pS();const Ut=Sh(gS),yS=["xxl","xl","lg","md","sm","xs"],_S="xs",CT=H.createContext({prefixes:{},breakpoints:yS,minBreakpoint:_S}),{Consumer:zO,Provider:BO}=CT;function cn(r,e){const{prefixes:n}=H.useContext(CT);return r||n[e]||e}const xT=H.forwardRef(({bsPrefix:r,fluid:e=!1,as:n="div",className:s,...o},u)=>{const f=cn(r,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return K.jsx(n,{ref:u,...o,className:Ut(s,e?`${f}${m}`:f)})});xT.displayName="Container";function xm(){return xm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},xm.apply(null,arguments)}function NT(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)!==-1)continue;n[s]=r[s]}return n}function Rv(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function vS(r){var e=ES(r,"string");return typeof e=="symbol"?e:String(e)}function ES(r,e){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function TS(r,e,n){var s=H.useRef(r!==void 0),o=H.useState(e),u=o[0],f=o[1],m=r!==void 0,p=s.current;return s.current=m,!m&&p&&u!==e&&f(e),[m?r:u,H.useCallback(function(g){for(var v=arguments.length,T=new Array(v>1?v-1:0),b=1;b<v;b++)T[b-1]=arguments[b];n&&n.apply(void 0,[g].concat(T)),f(g)},[n])]}function DT(r,e){return Object.keys(e).reduce(function(n,s){var o,u=n,f=u[Rv(s)],m=u[s],p=NT(u,[Rv(s),s].map(vS)),g=e[s],v=TS(m,f,r[g]),T=v[0],b=v[1];return xm({},p,(o={},o[s]=T,o[g]=b,o))},r)}function Nm(r,e){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Nm(r,e)}function bS(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Nm(r,e)}var AS=Function.prototype.bind.call(Function.prototype.call,[].slice);function Us(r,e){return AS(r.querySelectorAll(e))}function wS(){const[,r]=H.useReducer(e=>e+1,0);return r}const Iv=r=>!r||typeof r=="function"?r:e=>{r.current=e};function SS(r,e){const n=Iv(r),s=Iv(e);return o=>{n&&n(o),s&&s(o)}}function Rh(r,e){return H.useMemo(()=>SS(r,e),[r,e])}const sp=H.createContext(null);sp.displayName="NavContext";const nh=H.createContext(null),ap=(r,e=null)=>r!=null?String(r):e||null,OT=H.createContext(null),RS="data-rr-ui-",IS="rrUi";function Ih(r){return`${RS}${r}`}function CS(r){return`${IS}${r}`}function xS(r){const e=H.useRef(r);return H.useEffect(()=>{e.current=r},[r]),e}function Ki(r){const e=xS(r);return H.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const NS=["as","disabled"];function DS(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function OS(r){return!r||r.trim()==="#"}function MT({tagName:r,disabled:e,href:n,target:s,rel:o,role:u,onClick:f,tabIndex:m=0,type:p}){r||(n!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:p||"button",disabled:e},g];const v=b=>{if((e||r==="a"&&OS(n))&&b.preventDefault(),e){b.stopPropagation();return}f==null||f(b)},T=b=>{b.key===" "&&(b.preventDefault(),v(b))};return r==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:m,href:n,target:r==="a"?s:void 0,"aria-disabled":e||void 0,rel:r==="a"?o:void 0,onClick:v,onKeyDown:T},g]}const VT=H.forwardRef((r,e)=>{let{as:n,disabled:s}=r,o=DS(r,NS);const[u,{tagName:f}]=MT(Object.assign({tagName:n,disabled:s},o));return K.jsx(f,Object.assign({},o,u,{ref:e}))});VT.displayName="Button";const MS=["as","active","eventKey"];function VS(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function kT({key:r,onClick:e,active:n,id:s,role:o,disabled:u}){const f=H.useContext(nh),m=H.useContext(sp),p=H.useContext(OT);let g=n;const v={role:o};if(m){!o&&m.role==="tablist"&&(v.role="tab");const T=m.getControllerId(r??null),b=m.getControlledId(r??null);v[Ih("event-key")]=r,v.id=T||s,g=n==null&&r!=null?m.activeKey===r:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=b)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),u&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Ki(T=>{u||(e==null||e(T),r!=null&&f&&!T.isPropagationStopped()&&f(r,T))}),[v,{isActive:g}]}const PT=H.forwardRef((r,e)=>{let{as:n=VT,active:s,eventKey:o}=r,u=VS(r,MS);const[f,m]=kT(Object.assign({key:ap(o,u.href),active:s},u));return f[Ih("active")]=m.isActive,K.jsx(n,Object.assign({},u,f,{ref:e}))});PT.displayName="NavItem";const kS=["as","onSelect","activeKey","role","onKeyDown"];function PS(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}const Cv=()=>{},xv=Ih("event-key"),UT=H.forwardRef((r,e)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:f}=r,m=PS(r,kS);const p=wS(),g=H.useRef(!1),v=H.useContext(nh),T=H.useContext(OT);let b,N;T&&(u=u||"tablist",o=T.activeKey,b=T.getControlledId,N=T.getControllerId);const U=H.useRef(null),Z=ie=>{const ne=U.current;if(!ne)return null;const re=Us(ne,`[${xv}]:not([aria-disabled=true])`),ue=ne.querySelector("[aria-selected=true]");if(!ue||ue!==document.activeElement)return null;const x=re.indexOf(ue);if(x===-1)return null;let S=x+ie;return S>=re.length&&(S=0),S<0&&(S=re.length-1),re[S]},Q=(ie,ne)=>{ie!=null&&(s==null||s(ie,ne),v==null||v(ie,ne))},ce=ie=>{if(f==null||f(ie),!T)return;let ne;switch(ie.key){case"ArrowLeft":case"ArrowUp":ne=Z(-1);break;case"ArrowRight":case"ArrowDown":ne=Z(1);break;default:return}ne&&(ie.preventDefault(),Q(ne.dataset[CS("EventKey")]||null,ie),g.current=!0,p())};H.useEffect(()=>{if(U.current&&g.current){const ie=U.current.querySelector(`[${xv}][aria-selected=true]`);ie==null||ie.focus()}g.current=!1});const se=Rh(e,U);return K.jsx(nh.Provider,{value:Q,children:K.jsx(sp.Provider,{value:{role:u,activeKey:ap(o),getControlledId:b||Cv,getControllerId:N||Cv},children:K.jsx(n,Object.assign({},m,{onKeyDown:ce,ref:se,role:u}))})})});UT.displayName="Nav";const US=Object.assign(UT,{Item:PT}),uo=H.createContext(null);uo.displayName="NavbarContext";const LT=H.createContext(null);LT.displayName="CardHeaderContext";const jT=H.forwardRef(({className:r,bsPrefix:e,as:n="div",...s},o)=>(e=cn(e,"nav-item"),K.jsx(n,{ref:o,className:Ut(r,e),...s})));jT.displayName="NavItem";function LS(){const r=H.useRef(!0),e=H.useRef(()=>r.current);return H.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function jS(r){const e=H.useRef(null);return H.useEffect(()=>{e.current=r}),e.current}const zS=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",BS=typeof document<"u",Nv=BS||zS?H.useLayoutEffect:H.useEffect,qS=["onKeyDown"];function HS(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function FS(r){return!r||r.trim()==="#"}const zT=H.forwardRef((r,e)=>{let{onKeyDown:n}=r,s=HS(r,qS);const[o]=MT(Object.assign({tagName:"a"},s)),u=Ki(f=>{o.onKeyDown(f),n==null||n(f)});return FS(s.href)||s.role==="button"?K.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:u})):K.jsx("a",Object.assign({ref:e},s,{onKeyDown:n}))});zT.displayName="Anchor";const BT=H.forwardRef(({bsPrefix:r,className:e,as:n=zT,active:s,eventKey:o,disabled:u=!1,...f},m)=>{r=cn(r,"nav-link");const[p,g]=kT({key:ap(o,f.href),active:s,disabled:u,...f});return K.jsx(n,{...f,...p,ref:m,disabled:u,className:Ut(e,r,u&&"disabled",g.isActive&&"active")})});BT.displayName="NavLink";const qT=H.forwardRef((r,e)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:f=!1,navbar:m,navbarScroll:p,className:g,activeKey:v,...T}=DT(r,{activeKey:"onSelect"}),b=cn(s,"nav");let N,U,Z=!1;const Q=H.useContext(uo),ce=H.useContext(LT);return Q?(N=Q.bsPrefix,Z=m??!0):ce&&({cardHeaderBsPrefix:U}=ce),K.jsx(US,{as:n,ref:e,activeKey:v,className:Ut(g,{[b]:!Z,[`${N}-nav`]:Z,[`${N}-nav-scroll`]:Z&&p,[`${U}-${o}`]:!!U,[`${b}-${o}`]:!!o,[`${b}-fill`]:u,[`${b}-justified`]:f}),...T})});qT.displayName="Nav";const xl=Object.assign(qT,{Item:jT,Link:BT}),HT=H.forwardRef(({bsPrefix:r,className:e,as:n,...s},o)=>{r=cn(r,"navbar-brand");const u=n||(s.href?"a":"span");return K.jsx(u,{...s,ref:o,className:Ut(e,r)})});HT.displayName="NavbarBrand";function op(r){return r&&r.ownerDocument||document}function GS(r){var e=op(r);return e&&e.defaultView||window}function KS(r,e){return GS(r).getComputedStyle(r,e)}var QS=/([A-Z])/g;function YS(r){return r.replace(QS,"-$1").toLowerCase()}var XS=/^ms-/;function Oc(r){return YS(r).replace(XS,"-ms-")}var $S=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ZS(r){return!!(r&&$S.test(r))}function Zi(r,e){var n="",s="";if(typeof e=="string")return r.style.getPropertyValue(Oc(e))||KS(r).getPropertyValue(Oc(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?r.style.removeProperty(Oc(o)):ZS(o)?s+=o+"("+u+") ":n+=Oc(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),r.style.cssText+=";"+n}var im={exports:{}},rm,Dv;function WS(){if(Dv)return rm;Dv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rm=r,rm}var sm,Ov;function JS(){if(Ov)return sm;Ov=1;var r=WS();function e(){}function n(){}return n.resetWarningCache=e,sm=function(){function s(f,m,p,g,v,T){if(T!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},sm}var Mv;function e1(){return Mv||(Mv=1,im.exports=JS()()),im.exports}var t1=e1();const am=Sh(t1);var n1=IT();const Xa=Sh(n1),Vv={disabled:!1},FT=Yi.createContext(null);var i1=function(e){return e.scrollTop},Ol="unmounted",Pr="exited",Gn="entering",Qi="entered",Hl="exiting",sr=function(r){bS(e,r);function e(s,o){var u;u=r.call(this,s,o)||this;var f=o,m=f&&!f.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?m?(p=Pr,u.appearStatus=Gn):p=Qi:s.unmountOnExit||s.mountOnEnter?p=Ol:p=Pr,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===Ol?{status:Pr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==Gn&&f!==Qi&&(u=Gn):(f===Gn||f===Qi)&&(u=Hl)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,f,m;return u=f=m=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,m=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===Gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:Xa.findDOMNode(this);f&&i1(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pr&&this.setState({status:Ol})},n.performEnter=function(o){var u=this,f=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[Xa.findDOMNode(this),m],g=p[0],v=p[1],T=this.getTimeouts(),b=m?T.appear:T.enter;if(!o&&!f||Vv.disabled){this.safeSetState({status:Qi},function(){u.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:Gn},function(){u.props.onEntering(g,v),u.onTransitionEnd(b,function(){u.safeSetState({status:Qi},function(){u.props.onEntered(g,v)})})})},n.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),m=this.props.nodeRef?void 0:Xa.findDOMNode(this);if(!u||Vv.disabled){this.safeSetState({status:Pr},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:Hl},function(){o.props.onExiting(m),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:Pr},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(m){f&&(f=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:Xa.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!f||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],g=p[0],v=p[1];this.props.addEndListener(g,v)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Ol)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=NT(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Yi.createElement(FT.Provider,{value:null},typeof f=="function"?f(o,m):Yi.cloneElement(Yi.Children.only(f),m))},e}(Yi.Component);sr.contextType=FT;sr.propTypes={};function Ha(){}sr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ha,onEntering:Ha,onEntered:Ha,onExit:Ha,onExiting:Ha,onExited:Ha};sr.UNMOUNTED=Ol;sr.EXITED=Pr;sr.ENTERING=Gn;sr.ENTERED=Qi;sr.EXITING=Hl;function r1(r){return r.code==="Escape"||r.keyCode===27}function s1(){const r=H.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function co(r){if(!r||typeof r=="function")return null;const{major:e}=s1();return e>=19?r.props.ref:r.ref}const Ch=!!(typeof window<"u"&&window.document&&window.document.createElement);var Dm=!1,Om=!1;try{var om={get passive(){return Dm=!0},get once(){return Om=Dm=!0}};Ch&&(window.addEventListener("test",om,om),window.removeEventListener("test",om,!0))}catch{}function a1(r,e,n,s){if(s&&typeof s!="boolean"&&!Om){var o=s.once,u=s.capture,f=n;!Om&&o&&(f=n.__once||function m(p){this.removeEventListener(e,m,u),n.call(this,p)},n.__once=f),r.addEventListener(e,f,Dm?s:u)}r.addEventListener(e,n,s)}function o1(r,e,n,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(e,n,o),n.__once&&r.removeEventListener(e,n.__once,o)}function ih(r,e,n,s){return a1(r,e,n,s),function(){o1(r,e,n,s)}}function l1(r,e,n,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,s),r.dispatchEvent(o)}}function u1(r){var e=Zi(r,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function c1(r,e,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||l1(r,"transitionend",!0)},e+n),u=ih(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function h1(r,e,n,s){n==null&&(n=u1(r)||0);var o=c1(r,n,s),u=ih(r,"transitionend",e);return function(){o(),u()}}function kv(r,e){const n=Zi(r,e)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function lp(r,e){const n=kv(r,"transitionDuration"),s=kv(r,"transitionDelay"),o=h1(r,u=>{u.target===r&&(o(),e(u))},n+s)}function Nl(...r){return r.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...o){e.apply(this,o),n.apply(this,o)}},null)}function GT(r){r.offsetHeight}const Pv=r=>!r||typeof r=="function"?r:e=>{r.current=e};function f1(r,e){const n=Pv(r),s=Pv(e);return o=>{n&&n(o),s&&s(o)}}function d1(r,e){return H.useMemo(()=>f1(r,e),[r,e])}function m1(r){return r&&"setState"in r?Xa.findDOMNode(r):r??null}const up=Yi.forwardRef(({onEnter:r,onEntering:e,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:f,children:m,childRef:p,...g},v)=>{const T=H.useRef(null),b=d1(T,p),N=ue=>{b(m1(ue))},U=ue=>x=>{ue&&T.current&&ue(T.current,x)},Z=H.useCallback(U(r),[r]),Q=H.useCallback(U(e),[e]),ce=H.useCallback(U(n),[n]),se=H.useCallback(U(s),[s]),ie=H.useCallback(U(o),[o]),ne=H.useCallback(U(u),[u]),re=H.useCallback(U(f),[f]);return K.jsx(sr,{ref:v,...g,onEnter:Z,onEntered:ce,onEntering:Q,onExit:se,onExited:ne,onExiting:ie,addEndListener:re,nodeRef:T,children:typeof m=="function"?(ue,x)=>m(ue,{...x,ref:N}):Yi.cloneElement(m,{ref:N})})}),p1={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function g1(r,e){const n=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=e[n],o=p1[r];return s+parseInt(Zi(e,o[0]),10)+parseInt(Zi(e,o[1]),10)}const y1={[Pr]:"collapse",[Hl]:"collapsing",[Gn]:"collapsing",[Qi]:"collapse show"},_1=Yi.forwardRef(({onEnter:r,onEntering:e,onEntered:n,onExit:s,onExiting:o,className:u,children:f,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:T=!1,appear:b=!1,getDimensionValue:N=g1,...U},Z)=>{const Q=typeof m=="function"?m():m,ce=H.useMemo(()=>Nl(ue=>{ue.style[Q]="0"},r),[Q,r]),se=H.useMemo(()=>Nl(ue=>{const x=`scroll${Q[0].toUpperCase()}${Q.slice(1)}`;ue.style[Q]=`${ue[x]}px`},e),[Q,e]),ie=H.useMemo(()=>Nl(ue=>{ue.style[Q]=null},n),[Q,n]),ne=H.useMemo(()=>Nl(ue=>{ue.style[Q]=`${N(Q,ue)}px`,GT(ue)},s),[s,N,Q]),re=H.useMemo(()=>Nl(ue=>{ue.style[Q]=null},o),[Q,o]);return K.jsx(up,{ref:Z,addEndListener:lp,...U,"aria-expanded":U.role?p:null,onEnter:ce,onEntering:se,onEntered:ie,onExit:ne,onExiting:re,childRef:co(f),in:p,timeout:g,mountOnEnter:v,unmountOnExit:T,appear:b,children:(ue,x)=>Yi.cloneElement(f,{...x,className:Ut(u,f.props.className,y1[ue],Q==="width"&&"collapse-horizontal")})})}),KT=H.forwardRef(({children:r,bsPrefix:e,...n},s)=>{e=cn(e,"navbar-collapse");const o=H.useContext(uo);return K.jsx(_1,{in:!!(o&&o.expanded),...n,children:K.jsx("div",{ref:s,className:e,children:r})})});KT.displayName="NavbarCollapse";function v1(r){const e=H.useRef(r);return H.useEffect(()=>{e.current=r},[r]),e}function xh(r){const e=v1(r);return H.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const QT=H.forwardRef(({bsPrefix:r,className:e,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...f},m)=>{r=cn(r,"navbar-toggler");const{onToggle:p,expanded:g}=H.useContext(uo)||{},v=xh(T=>{u&&u(T),p&&p()});return o==="button"&&(f.type="button"),K.jsx(o,{...f,ref:m,onClick:v,"aria-label":s,className:Ut(e,r,!g&&"collapsed"),children:n||K.jsx("span",{className:`${r}-icon`})})});QT.displayName="NavbarToggle";const E1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",T1=typeof document<"u",b1=T1||E1?H.useLayoutEffect:H.useEffect,Mm=new WeakMap,Uv=(r,e)=>{if(!r||!e)return;const n=Mm.get(e)||new Map;Mm.set(e,n);let s=n.get(r);return s||(s=e.matchMedia(r),s.refCount=0,n.set(s.media,s)),s};function A1(r,e=typeof window>"u"?void 0:window){const n=Uv(r,e),[s,o]=H.useState(()=>n?n.matches:!1);return b1(()=>{let u=Uv(r,e);if(!u)return o(!1);let f=Mm.get(e);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&(f==null||f.delete(u.media)),u=void 0}},[r]),s}function w1(r){const e=Object.keys(r);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return e[Math.min(e.indexOf(m)+1,e.length-1)]}function o(m){const p=s(m);let g=r[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(m){let p=r[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function f(m,p,g){let v;typeof m=="object"?(v=m,g=p,p=!0):(p=p||!0,v={[m]:p});let T=H.useMemo(()=>Object.entries(v).reduce((b,[N,U])=>((U==="up"||U===!0)&&(b=n(b,u(N))),(U==="down"||U===!0)&&(b=n(b,o(N))),b),""),[JSON.stringify(v)]);return A1(T,g)}return f}const S1=w1({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function lm(r){r===void 0&&(r=op());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function Lv(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}function R1(r){const e=H.useRef(r);return e.current=r,e}function I1(r){const e=R1(r);H.useEffect(()=>()=>e.current(),[])}function C1(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const jv=Ih("modal-open");class cp{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return C1(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(n[s]=`${parseInt(Zi(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(jv,""),Zi(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(jv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const YT=H.createContext(Ch?window:void 0);YT.Provider;function hp(){return H.useContext(YT)}const um=(r,e)=>Ch?r==null?(e||op()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function x1(r,e){const n=hp(),[s,o]=H.useState(()=>um(r,n==null?void 0:n.document));if(!s){const u=um(r);u&&o(u)}return H.useEffect(()=>{},[e,s]),H.useEffect(()=>{const u=um(r);u!==s&&o(u)},[r,s]),s}function N1({children:r,in:e,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=H.useRef(null),f=H.useRef(e),m=Ki(n);H.useEffect(()=>{e?f.current=!0:m(u.current)},[e,m]);const p=Rh(u,co(r)),g=H.cloneElement(r,{ref:p});return e?g:o||!f.current&&s?null:g}const D1=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function O1(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function M1(r){let{onEnter:e,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:f,addEndListener:m,children:p}=r,g=O1(r,D1);const v=H.useRef(null),T=Rh(v,co(p)),b=ne=>re=>{ne&&v.current&&ne(v.current,re)},N=H.useCallback(b(e),[e]),U=H.useCallback(b(n),[n]),Z=H.useCallback(b(s),[s]),Q=H.useCallback(b(o),[o]),ce=H.useCallback(b(u),[u]),se=H.useCallback(b(f),[f]),ie=H.useCallback(b(m),[m]);return Object.assign({},g,{nodeRef:v},e&&{onEnter:N},n&&{onEntering:U},s&&{onEntered:Z},o&&{onExit:Q},u&&{onExiting:ce},f&&{onExited:se},m&&{addEndListener:ie},{children:typeof p=="function"?(ne,re)=>p(ne,Object.assign({},re,{ref:T})):H.cloneElement(p,{ref:T})})}const V1=["component"];function k1(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}const P1=H.forwardRef((r,e)=>{let{component:n}=r,s=k1(r,V1);const o=M1(s);return K.jsx(n,Object.assign({ref:e},o))});function U1({in:r,onTransition:e}){const n=H.useRef(null),s=H.useRef(!0),o=Ki(e);return Nv(()=>{if(!n.current)return;let u=!1;return o({in:r,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),Nv(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function L1({children:r,in:e,onExited:n,onEntered:s,transition:o}){const[u,f]=H.useState(!e);e&&u&&f(!1);const m=U1({in:!!e,onTransition:g=>{const v=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(f(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(v,T=>{throw g.in||f(!0),T})}}),p=Rh(m,co(r));return u&&!e?null:H.cloneElement(r,{ref:p})}function zv(r,e,n){return r?K.jsx(P1,Object.assign({},n,{component:r})):e?K.jsx(L1,Object.assign({},n,{transition:e})):K.jsx(N1,Object.assign({},n))}const j1=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function z1(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}let cm;function B1(r){return cm||(cm=new cp({ownerDocument:r==null?void 0:r.document})),cm}function q1(r){const e=hp(),n=r||B1(e),s=H.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:H.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:H.useCallback(o=>{s.current.backdrop=o},[])})}const XT=H.forwardRef((r,e)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:f,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:T,runTransition:b,backdropTransition:N,runBackdropTransition:U,autoFocus:Z=!0,enforceFocus:Q=!0,restoreFocus:ce=!0,restoreFocusOptions:se,renderDialog:ie,renderBackdrop:ne=et=>K.jsx("div",Object.assign({},et)),manager:re,container:ue,onShow:x,onHide:S=()=>{},onExit:I,onExited:O,onExiting:M,onEnter:k,onEntering:R,onEntered:Be}=r,qe=z1(r,j1);const F=hp(),ae=x1(ue),he=q1(re),ke=LS(),D=jS(n),[ee,le]=H.useState(!n),te=H.useRef(null);H.useImperativeHandle(e,()=>he,[he]),Ch&&!D&&n&&(te.current=lm(F==null?void 0:F.document)),n&&ee&&le(!1);const me=Ki(()=>{if(he.add(),En.current=ih(document,"keydown",Xe),sn.current=ih(document,"focus",()=>setTimeout(Te),!0),x&&x(),Z){var et,ns;const Kt=lm((et=(ns=he.dialog)==null?void 0:ns.ownerDocument)!=null?et:F==null?void 0:F.document);he.dialog&&Kt&&!Lv(he.dialog,Kt)&&(te.current=Kt,he.dialog.focus())}}),we=Ki(()=>{if(he.remove(),En.current==null||En.current(),sn.current==null||sn.current(),ce){var et;(et=te.current)==null||et.focus==null||et.focus(se),te.current=null}});H.useEffect(()=>{!n||!ae||me()},[n,ae,me]),H.useEffect(()=>{ee&&we()},[ee,we]),I1(()=>{we()});const Te=Ki(()=>{if(!Q||!ke()||!he.isTopModal())return;const et=lm(F==null?void 0:F.document);he.dialog&&et&&!Lv(he.dialog,et)&&he.dialog.focus()}),gt=Ki(et=>{et.target===et.currentTarget&&(g==null||g(et),m===!0&&S())}),Xe=Ki(et=>{p&&r1(et)&&he.isTopModal()&&(v==null||v(et),et.defaultPrevented||S())}),sn=H.useRef(),En=H.useRef(),Un=(...et)=>{le(!0),O==null||O(...et)};if(!ae)return null;const $n=Object.assign({role:s,ref:he.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},qe,{style:u,className:o,tabIndex:-1});let Ln=ie?ie($n):K.jsx("div",Object.assign({},$n,{children:H.cloneElement(f,{role:"document"})}));Ln=zv(T,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:M,onExited:Un,onEnter:k,onEntering:R,onEntered:Be,children:Ln});let Tn=null;return m&&(Tn=ne({ref:he.setBackdropRef,onClick:gt}),Tn=zv(N,U,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Tn})),K.jsx(K.Fragment,{children:Xa.createPortal(K.jsxs(K.Fragment,{children:[Tn,Ln]}),ae)})});XT.displayName="Modal";const H1=Object.assign(XT,{Manager:cp}),F1={[Gn]:"show",[Qi]:"show"},$T=H.forwardRef(({className:r,children:e,transitionClasses:n={},onEnter:s,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=H.useCallback((p,g)=>{GT(p),s==null||s(p,g)},[s]);return K.jsx(up,{ref:u,addEndListener:lp,...f,onEnter:m,childRef:co(e),children:(p,g)=>H.cloneElement(e,{...g,className:Ut("fade",r,e.props.className,F1[p],n[p])})})});$T.displayName="Fade";const ZT=H.forwardRef(({className:r,bsPrefix:e,as:n="div",...s},o)=>(e=cn(e,"offcanvas-body"),K.jsx(n,{ref:o,className:Ut(r,e),...s})));ZT.displayName="OffcanvasBody";const G1={[Gn]:"show",[Qi]:"show"},WT=H.forwardRef(({bsPrefix:r,className:e,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:f=!1,...m},p)=>(r=cn(r,"offcanvas"),K.jsx(up,{ref:p,addEndListener:lp,in:s,mountOnEnter:o,unmountOnExit:u,appear:f,...m,childRef:co(n),children:(g,v)=>H.cloneElement(n,{...v,className:Ut(e,n.props.className,(g===Gn||g===Hl)&&`${r}-toggling`,G1[g])})})));WT.displayName="OffcanvasToggling";const JT=H.createContext({onHide(){}}),K1={"aria-label":am.string,onClick:am.func,variant:am.oneOf(["white"])},fp=H.forwardRef(({className:r,variant:e,"aria-label":n="Close",...s},o)=>K.jsx("button",{ref:o,type:"button",className:Ut("btn-close",e&&`btn-close-${e}`,r),"aria-label":n,...s}));fp.displayName="CloseButton";fp.propTypes=K1;const Q1=H.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:n=!1,onHide:s,children:o,...u},f)=>{const m=H.useContext(JT),p=xh(()=>{m==null||m.onHide(),s==null||s()});return K.jsxs("div",{ref:f,...u,children:[o,n&&K.jsx(fp,{"aria-label":r,variant:e,onClick:p})]})}),e0=H.forwardRef(({bsPrefix:r,className:e,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(r=cn(r,"offcanvas-header"),K.jsx(Q1,{ref:u,...o,className:Ut(e,r),closeLabel:n,closeButton:s})));e0.displayName="OffcanvasHeader";const Y1=r=>H.forwardRef((e,n)=>K.jsx("div",{...e,ref:n,className:Ut(e.className,r)})),X1=Y1("h5"),t0=H.forwardRef(({className:r,bsPrefix:e,as:n=X1,...s},o)=>(e=cn(e,"offcanvas-title"),K.jsx(n,{ref:o,className:Ut(r,e),...s})));t0.displayName="OffcanvasTitle";function $1(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function Z1(r,e){r.classList?r.classList.add(e):$1(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function Bv(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function W1(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=Bv(r.className,e):r.setAttribute("class",Bv(r.className&&r.className.baseVal||"",e))}const Fa={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class n0 extends cp{adjustAndStore(e,n,s){const o=n.style[e];n.dataset[e]=o,Zi(n,{[e]:`${parseFloat(Zi(n,e))+s}px`})}restore(e,n){const s=n.dataset[e];s!==void 0&&(delete n.dataset[e],Zi(n,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(Z1(n,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Us(n,Fa.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,e.scrollBarWidth)),Us(n,Fa.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-e.scrollBarWidth)),Us(n,Fa.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();W1(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Us(n,Fa.FIXED_CONTENT).forEach(u=>this.restore(s,u)),Us(n,Fa.STICKY_CONTENT).forEach(u=>this.restore(o,u)),Us(n,Fa.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let hm;function J1(r){return hm||(hm=new n0(r)),hm}function eR(r){return K.jsx(WT,{...r})}function tR(r){return K.jsx($T,{...r})}const i0=H.forwardRef(({bsPrefix:r,className:e,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:f=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:T,onHide:b,container:N,autoFocus:U=!0,enforceFocus:Z=!0,restoreFocus:Q=!0,restoreFocusOptions:ce,onEntered:se,onExit:ie,onExiting:ne,onEnter:re,onEntering:ue,onExited:x,backdropClassName:S,manager:I,renderStaticNode:O=!1,...M},k)=>{const R=H.useRef();r=cn(r,"offcanvas");const[Be,qe]=H.useState(!1),F=xh(b),ae=S1(u||"xs","up");H.useEffect(()=>{qe(u?f&&!ae:f)},[f,u,ae]);const he=H.useMemo(()=>({onHide:F}),[F]);function ke(){return I||(g?(R.current||(R.current=new n0({handleContainerOverflow:!1})),R.current):J1())}const D=(me,...we)=>{me&&(me.style.visibility="visible"),re==null||re(me,...we)},ee=(me,...we)=>{me&&(me.style.visibility=""),x==null||x(...we)},le=H.useCallback(me=>K.jsx("div",{...me,className:Ut(`${r}-backdrop`,S)}),[S,r]),te=me=>K.jsx("div",{...me,...M,className:Ut(e,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:n});return K.jsxs(K.Fragment,{children:[!Be&&(u||O)&&te({}),K.jsx(JT.Provider,{value:he,children:K.jsx(H1,{show:Be,ref:k,backdrop:m,container:N,keyboard:p,autoFocus:U,enforceFocus:Z&&!g,restoreFocus:Q,restoreFocusOptions:ce,onEscapeKeyDown:v,onShow:T,onHide:F,onEnter:D,onEntering:ue,onEntered:se,onExit:ie,onExiting:ne,onExited:ee,manager:ke(),transition:eR,backdropTransition:tR,renderBackdrop:le,renderDialog:te})})]})});i0.displayName="Offcanvas";const nR=Object.assign(i0,{Body:ZT,Header:e0,Title:t0}),r0=H.forwardRef(({onHide:r,...e},n)=>{const s=H.useContext(uo),o=xh(()=>{s==null||s.onToggle==null||s.onToggle(),r==null||r()});return K.jsx(nR,{ref:n,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});r0.displayName="NavbarOffcanvas";const s0=H.forwardRef(({className:r,bsPrefix:e,as:n="span",...s},o)=>(e=cn(e,"navbar-text"),K.jsx(n,{ref:o,className:Ut(r,e),...s})));s0.displayName="NavbarText";const a0=H.forwardRef((r,e)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:f,sticky:m,className:p,as:g="nav",expanded:v,onToggle:T,onSelect:b,collapseOnSelect:N=!1,...U}=DT(r,{expanded:"onToggle"}),Z=cn(n,"navbar"),Q=H.useCallback((...ie)=>{b==null||b(...ie),N&&v&&(T==null||T(!1))},[b,N,v,T]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let ce=`${Z}-expand`;typeof s=="string"&&(ce=`${ce}-${s}`);const se=H.useMemo(()=>({onToggle:()=>T==null?void 0:T(!v),bsPrefix:Z,expanded:!!v,expand:s}),[Z,v,s,T]);return K.jsx(uo.Provider,{value:se,children:K.jsx(nh.Provider,{value:Q,children:K.jsx(g,{ref:e,...U,className:Ut(p,Z,s&&ce,o&&`${Z}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,f&&`fixed-${f}`)})})})});a0.displayName="Navbar";const qv=Object.assign(a0,{Brand:HT,Collapse:KT,Offcanvas:r0,Text:s0,Toggle:QT});function iR(){return K.jsx(K.Fragment,{children:K.jsx(qv,{fixed:"top",bg:"dark","data-bs-theme":"dark",children:K.jsxs(xT,{children:[K.jsx(qv.Brand,{href:"#home",children:"Shana Chan"}),K.jsxs(xl,{className:"me-auto",children:[K.jsx(xl.Link,{href:"#home",children:"Home"}),K.jsx(xl.Link,{href:"#about",children:"About"}),K.jsx(xl.Link,{href:"#experience",children:"Experience"}),K.jsx(xl.Link,{href:"#surprise",children:"Surprise"})]})]})})})}function rR(){return K.jsx("footer",{className:"bg-light text-center text-lg-start mt-5",children:K.jsxs("div",{className:"text-center p-3",children:[" ",new Date().getFullYear()," Shana Chan - All rights reserved."]})})}function sR({text:r="",speed:e=100,onDone:n}){const[s,o]=H.useState("");return H.useEffect(()=>{let u=0;o("");const f=setInterval(()=>{u<r.length?(o(m=>m+r.charAt(u)),console.log("i is:",u),console.log("char is:",r[u]),u++):(clearInterval(f),n&&n())},e);return()=>{clearInterval(f)}},[r,e,n]),K.jsxs("h1",{className:"text-4xl font-bold text-white",children:[s,K.jsx("span",{className:"border-r-2 border-white animate-pulse ml-1"})]})}const aR="_cardIndiv_1afx4_5",oR="_cardInner_1afx4_25",lR="_flipped_1afx4_41",uR="_front_1afx4_49",cR="_back_1afx4_51",Dl={cardIndiv:aR,cardInner:oR,flipped:lR,front:uR,back:cR};function fm({frontContent:r,backContent:e,color:n}){const[s,o]=H.useState(!1),u=()=>{o(!s)};return K.jsx("div",{className:Dl.cardIndiv,onClick:u,children:K.jsxs("div",{className:`${Dl.cardInner} ${s?Dl.flipped:""}`,children:[K.jsx("div",{className:Dl.front,style:{backgroundColor:n},children:r}),K.jsx("div",{className:Dl.back,style:{backgroundColor:n},children:e})]})})}function Hv({experienceArr:r=[]}){return K.jsxs("div",{className:"relative flex items-start justify-between w-full overflow-x-auto px-4 py-10",children:[K.jsx("div",{className:"absolute top-8 left-0 w-full h-1 bg-green-500 z-0"}),r.map((e,n)=>{const s=e.type==="industry"?"#B3E5FC":"#E6E6FA";return K.jsxs("div",{className:"mb-10 p-4 rounded-lg shadow-md relative",style:{backgroundColor:s},children:[K.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mb-2 z-10"}),K.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-4 text-center",children:[K.jsx("h3",{className:"text-lg font-semibold",children:e.title}),K.jsx("p",{className:"text-sm text-gray-500",children:e.company}),K.jsx("p",{className:"text-xs text-gray-400",children:e.duration}),K.jsx("p",{className:"mt-2 text-gray-700 text-sm",children:e.description})]})]},n)})]})}var jc={exports:{}},hR=jc.exports,Fv;function fR(){return Fv||(Fv=1,function(r){(function(e,n,s){function o(p){var g=this,v=m();g.next=function(){var T=2091639*g.s0+g.c*23283064365386963e-26;return g.s0=g.s1,g.s1=g.s2,g.s2=T-(g.c=T|0)},g.c=1,g.s0=v(" "),g.s1=v(" "),g.s2=v(" "),g.s0-=v(p),g.s0<0&&(g.s0+=1),g.s1-=v(p),g.s1<0&&(g.s1+=1),g.s2-=v(p),g.s2<0&&(g.s2+=1),v=null}function u(p,g){return g.c=p.c,g.s0=p.s0,g.s1=p.s1,g.s2=p.s2,g}function f(p,g){var v=new o(p),T=g&&g.state,b=v.next;return b.int32=function(){return v.next()*4294967296|0},b.double=function(){return b()+(b()*2097152|0)*11102230246251565e-32},b.quick=b,T&&(typeof T=="object"&&u(T,v),b.state=function(){return u(v,{})}),b}function m(){var p=4022871197,g=function(v){v=String(v);for(var T=0;T<v.length;T++){p+=v.charCodeAt(T);var b=.02519603282416938*p;p=b>>>0,b-=p,b*=p,p=b>>>0,b-=p,p+=b*4294967296}return(p>>>0)*23283064365386963e-26};return g}n&&n.exports?n.exports=f:this.alea=f})(hR,r)}(jc)),jc.exports}var zc={exports:{}},dR=zc.exports,Gv;function mR(){return Gv||(Gv=1,function(r){(function(e,n,s){function o(m){var p=this,g="";p.x=0,p.y=0,p.z=0,p.w=0,p.next=function(){var T=p.x^p.x<<11;return p.x=p.y,p.y=p.z,p.z=p.w,p.w^=p.w>>>19^T^T>>>8},m===(m|0)?p.x=m:g+=m;for(var v=0;v<g.length+64;v++)p.x^=g.charCodeAt(v)|0,p.next()}function u(m,p){return p.x=m.x,p.y=m.y,p.z=m.z,p.w=m.w,p}function f(m,p){var g=new o(m),v=p&&p.state,T=function(){return(g.next()>>>0)/4294967296};return T.double=function(){do var b=g.next()>>>11,N=(g.next()>>>0)/4294967296,U=(b+N)/(1<<21);while(U===0);return U},T.int32=g.next,T.quick=T,v&&(typeof v=="object"&&u(v,g),T.state=function(){return u(g,{})}),T}n&&n.exports?n.exports=f:this.xor128=f})(dR,r)}(zc)),zc.exports}var Bc={exports:{}},pR=Bc.exports,Kv;function gR(){return Kv||(Kv=1,function(r){(function(e,n,s){function o(m){var p=this,g="";p.next=function(){var T=p.x^p.x>>>2;return p.x=p.y,p.y=p.z,p.z=p.w,p.w=p.v,(p.d=p.d+362437|0)+(p.v=p.v^p.v<<4^(T^T<<1))|0},p.x=0,p.y=0,p.z=0,p.w=0,p.v=0,m===(m|0)?p.x=m:g+=m;for(var v=0;v<g.length+64;v++)p.x^=g.charCodeAt(v)|0,v==g.length&&(p.d=p.x<<10^p.x>>>4),p.next()}function u(m,p){return p.x=m.x,p.y=m.y,p.z=m.z,p.w=m.w,p.v=m.v,p.d=m.d,p}function f(m,p){var g=new o(m),v=p&&p.state,T=function(){return(g.next()>>>0)/4294967296};return T.double=function(){do var b=g.next()>>>11,N=(g.next()>>>0)/4294967296,U=(b+N)/(1<<21);while(U===0);return U},T.int32=g.next,T.quick=T,v&&(typeof v=="object"&&u(v,g),T.state=function(){return u(g,{})}),T}n&&n.exports?n.exports=f:this.xorwow=f})(pR,r)}(Bc)),Bc.exports}var qc={exports:{}},yR=qc.exports,Qv;function _R(){return Qv||(Qv=1,function(r){(function(e,n,s){function o(m){var p=this;p.next=function(){var v=p.x,T=p.i,b,N;return b=v[T],b^=b>>>7,N=b^b<<24,b=v[T+1&7],N^=b^b>>>10,b=v[T+3&7],N^=b^b>>>3,b=v[T+4&7],N^=b^b<<7,b=v[T+7&7],b=b^b<<13,N^=b^b<<9,v[T]=N,p.i=T+1&7,N};function g(v,T){var b,N=[];if(T===(T|0))N[0]=T;else for(T=""+T,b=0;b<T.length;++b)N[b&7]=N[b&7]<<15^T.charCodeAt(b)+N[b+1&7]<<13;for(;N.length<8;)N.push(0);for(b=0;b<8&&N[b]===0;++b);for(b==8?N[7]=-1:N[b],v.x=N,v.i=0,b=256;b>0;--b)v.next()}g(p,m)}function u(m,p){return p.x=m.x.slice(),p.i=m.i,p}function f(m,p){m==null&&(m=+new Date);var g=new o(m),v=p&&p.state,T=function(){return(g.next()>>>0)/4294967296};return T.double=function(){do var b=g.next()>>>11,N=(g.next()>>>0)/4294967296,U=(b+N)/(1<<21);while(U===0);return U},T.int32=g.next,T.quick=T,v&&(v.x&&u(v,g),T.state=function(){return u(g,{})}),T}n&&n.exports?n.exports=f:this.xorshift7=f})(yR,r)}(qc)),qc.exports}var Hc={exports:{}},vR=Hc.exports,Yv;function ER(){return Yv||(Yv=1,function(r){(function(e,n,s){function o(m){var p=this;p.next=function(){var v=p.w,T=p.X,b=p.i,N,U;return p.w=v=v+1640531527|0,U=T[b+34&127],N=T[b=b+1&127],U^=U<<13,N^=N<<17,U^=U>>>15,N^=N>>>12,U=T[b]=U^N,p.i=b,U+(v^v>>>16)|0};function g(v,T){var b,N,U,Z,Q,ce=[],se=128;for(T===(T|0)?(N=T,T=null):(T=T+"\0",N=0,se=Math.max(se,T.length)),U=0,Z=-32;Z<se;++Z)T&&(N^=T.charCodeAt((Z+32)%T.length)),Z===0&&(Q=N),N^=N<<10,N^=N>>>15,N^=N<<4,N^=N>>>13,Z>=0&&(Q=Q+1640531527|0,b=ce[Z&127]^=N+Q,U=b==0?U+1:0);for(U>=128&&(ce[(T&&T.length||0)&127]=-1),U=127,Z=4*128;Z>0;--Z)N=ce[U+34&127],b=ce[U=U+1&127],N^=N<<13,b^=b<<17,N^=N>>>15,b^=b>>>12,ce[U]=N^b;v.w=Q,v.X=ce,v.i=U}g(p,m)}function u(m,p){return p.i=m.i,p.w=m.w,p.X=m.X.slice(),p}function f(m,p){m==null&&(m=+new Date);var g=new o(m),v=p&&p.state,T=function(){return(g.next()>>>0)/4294967296};return T.double=function(){do var b=g.next()>>>11,N=(g.next()>>>0)/4294967296,U=(b+N)/(1<<21);while(U===0);return U},T.int32=g.next,T.quick=T,v&&(v.X&&u(v,g),T.state=function(){return u(g,{})}),T}n&&n.exports?n.exports=f:this.xor4096=f})(vR,r)}(Hc)),Hc.exports}var Fc={exports:{}},TR=Fc.exports,Xv;function bR(){return Xv||(Xv=1,function(r){(function(e,n,s){function o(m){var p=this,g="";p.next=function(){var T=p.b,b=p.c,N=p.d,U=p.a;return T=T<<25^T>>>7^b,b=b-N|0,N=N<<24^N>>>8^U,U=U-T|0,p.b=T=T<<20^T>>>12^b,p.c=b=b-N|0,p.d=N<<16^b>>>16^U,p.a=U-T|0},p.a=0,p.b=0,p.c=-1640531527,p.d=1367130551,m===Math.floor(m)?(p.a=m/4294967296|0,p.b=m|0):g+=m;for(var v=0;v<g.length+20;v++)p.b^=g.charCodeAt(v)|0,p.next()}function u(m,p){return p.a=m.a,p.b=m.b,p.c=m.c,p.d=m.d,p}function f(m,p){var g=new o(m),v=p&&p.state,T=function(){return(g.next()>>>0)/4294967296};return T.double=function(){do var b=g.next()>>>11,N=(g.next()>>>0)/4294967296,U=(b+N)/(1<<21);while(U===0);return U},T.int32=g.next,T.quick=T,v&&(typeof v=="object"&&u(v,g),T.state=function(){return u(g,{})}),T}n&&n.exports?n.exports=f:this.tychei=f})(TR,r)}(Fc)),Fc.exports}var Gc={exports:{}};const AR={},wR=Object.freeze(Object.defineProperty({__proto__:null,default:AR},Symbol.toStringTag,{value:"Module"})),SR=sS(wR);var RR=Gc.exports,$v;function IR(){return $v||($v=1,function(r){(function(e,n,s){var o=256,u=6,f=52,m="random",p=s.pow(o,u),g=s.pow(2,f),v=g*2,T=o-1,b;function N(ne,re,ue){var x=[];re=re==!0?{entropy:!0}:re||{};var S=ce(Q(re.entropy?[ne,ie(n)]:ne??se(),3),x),I=new U(x),O=function(){for(var M=I.g(u),k=p,R=0;M<g;)M=(M+R)*o,k*=o,R=I.g(1);for(;M>=v;)M/=2,k/=2,R>>>=1;return(M+R)/k};return O.int32=function(){return I.g(4)|0},O.quick=function(){return I.g(4)/4294967296},O.double=O,ce(ie(I.S),n),(re.pass||ue||function(M,k,R,Be){return Be&&(Be.S&&Z(Be,I),M.state=function(){return Z(I,{})}),R?(s[m]=M,k):M})(O,S,"global"in re?re.global:this==s,re.state)}function U(ne){var re,ue=ne.length,x=this,S=0,I=x.i=x.j=0,O=x.S=[];for(ue||(ne=[ue++]);S<o;)O[S]=S++;for(S=0;S<o;S++)O[S]=O[I=T&I+ne[S%ue]+(re=O[S])],O[I]=re;(x.g=function(M){for(var k,R=0,Be=x.i,qe=x.j,F=x.S;M--;)k=F[Be=T&Be+1],R=R*o+F[T&(F[Be]=F[qe=T&qe+k])+(F[qe]=k)];return x.i=Be,x.j=qe,R})(o)}function Z(ne,re){return re.i=ne.i,re.j=ne.j,re.S=ne.S.slice(),re}function Q(ne,re){var ue=[],x=typeof ne,S;if(re&&x=="object")for(S in ne)try{ue.push(Q(ne[S],re-1))}catch{}return ue.length?ue:x=="string"?ne:ne+"\0"}function ce(ne,re){for(var ue=ne+"",x,S=0;S<ue.length;)re[T&S]=T&(x^=re[T&S]*19)+ue.charCodeAt(S++);return ie(re)}function se(){try{var ne;return b&&(ne=b.randomBytes)?ne=ne(o):(ne=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(ne)),ie(ne)}catch{var re=e.navigator,ue=re&&re.plugins;return[+new Date,e,ue,e.screen,ie(n)]}}function ie(ne){return String.fromCharCode.apply(0,ne)}if(ce(s.random(),n),r.exports){r.exports=N;try{b=SR}catch{}}else s["seed"+m]=N})(typeof self<"u"?self:RR,[],Math)}(Gc)),Gc.exports}var dm,Zv;function CR(){if(Zv)return dm;Zv=1;var r=fR(),e=mR(),n=gR(),s=_R(),o=ER(),u=bR(),f=IR();return f.alea=r,f.xor128=e,f.xorwow=n,f.xorshift7=s,f.xor4096=o,f.tychei=u,dm=f,dm}CR();const rh=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"],mm=rh.reduce((r,e)=>e.length<r.length?e:r).length,pm=rh.reduce((r,e)=>e.length>r.length?e:r).length;function xR(r){const{minLength:e,maxLength:n,...s}={};function o(){let p=typeof e!="number"?mm:f(e);const g=typeof n!="number"?pm:f(n);p>g&&(p=g);let v=!1,T;for(;!v;)T=u(),v=T.length<=g&&T.length>=p;return T}function u(){return rh[m(rh.length)]}function f(p){return p<mm&&(p=mm),p>pm&&(p=pm),p}function m(p){const g=Math.random();return Math.floor(g*p)}return o()}function NR(r,e){return r.split("").map(n=>e.includes(n)?n:"_").join(" ")}function DR(r,e){return r.split("").every(n=>e.includes(n))}function OR(r,e,n=6){return e.filter(o=>!r.includes(o)).length>=n}function Wv(){return xR()}const MR=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(b=64)),s.push(n[v],n[T],n[b],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(o0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new kR;const b=u<<2|m>>4;if(s.push(b),g!==64){const N=m<<4&240|g>>2;if(s.push(N),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(r){const e=o0(r);return l0.encodeByteArray(e,!0)},sh=function(r){return PR(r).replace(/\./g,"")},u0=function(r){try{return l0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>UR().__FIREBASE_DEFAULTS__,jR=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&u0(r[1]);return e&&JSON.parse(e)},Nh=()=>{try{return MR()||LR()||jR()||zR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c0=r=>{var e,n;return(n=(e=Nh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},BR=r=>{const e=c0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},h0=()=>{var r;return(r=Nh())==null?void 0:r.config},f0=r=>{var e;return(e=Nh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const Ul={};function FR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?r.emulator.push(e):r.prod.push(e);return r}function GR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let eE=!1;function m0(r,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Ul[r]===e||Ul[r]||eE)return;Ul[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=FR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,N){b.setAttribute("width","24"),b.setAttribute("id",N),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{eE=!0,f()},b}function v(b,N){b.setAttribute("id",N),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=GR(s),N=n("text"),U=document.getElementById(N)||document.createElement("span"),Z=n("learnmore"),Q=document.getElementById(Z)||document.createElement("a"),ce=n("preprendIcon"),se=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;m(ie),v(Q,Z);const ne=g();p(se,ce),ie.append(se,U,Q,ne),document.body.appendChild(ie)}u?(U.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function QR(){var e;const r=(e=Nh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function WR(){return!QR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tI,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?nI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,s)}}function nI(r,e){return r.replace(iI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iI=/\{\$([^}]+)}/g;function rI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(tE(u)&&tE(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function tE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sI(r,e){const n=new aI(r,e);return n.subscribe.bind(n)}class aI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(r){return r&&r._delegate?r._delegate:r}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(r){return r===Ls?void 0:r}function cI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const fI={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},dI=Oe.INFO,mI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},pI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=mI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const gI=(r,e)=>e.some(n=>r instanceof n);let nE,iE;function yI(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Vm=new WeakMap,g0=new WeakMap,ym=new WeakMap,mp=new WeakMap;function vI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&p0.set(n,r)}).catch(()=>{}),mp.set(e,r),e}function EI(r){if(Vm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Vm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||g0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TI(r){km=r(km)}function bI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(_m(this),e,...n);return g0.set(s,e.sort?e.sort():[e]),qr(s)}:_I().includes(r)?function(...e){return r.apply(_m(this),e),qr(p0.get(this))}:function(...e){return qr(r.apply(_m(this),e))}}function AI(r){return typeof r=="function"?bI(r):(r instanceof IDBTransaction&&EI(r),gI(r,yI())?new Proxy(r,km):r)}function qr(r){if(r instanceof IDBRequest)return vI(r);if(ym.has(r))return ym.get(r);const e=AI(r);return e!==r&&(ym.set(r,e),mp.set(e,r)),e}const _m=r=>mp.get(r);function wI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const SI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],vm=new Map;function rE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}TI(r=>({...r,get:(e,n,s)=>rE(e,n)||r.get(e,n,s),has:(e,n)=>!!rE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",sE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new dp("@firebase/app"),xI="@firebase/app-compat",NI="@firebase/analytics-compat",DI="@firebase/analytics",OI="@firebase/app-check-compat",MI="@firebase/app-check",VI="@firebase/auth",kI="@firebase/auth-compat",PI="@firebase/database",UI="@firebase/data-connect",LI="@firebase/database-compat",jI="@firebase/functions",zI="@firebase/functions-compat",BI="@firebase/installations",qI="@firebase/installations-compat",HI="@firebase/messaging",FI="@firebase/messaging-compat",GI="@firebase/performance",KI="@firebase/performance-compat",QI="@firebase/remote-config",YI="@firebase/remote-config-compat",XI="@firebase/storage",$I="@firebase/storage-compat",ZI="@firebase/firestore",WI="@firebase/ai",JI="@firebase/firestore-compat",eC="firebase",tC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",nC={[Pm]:"fire-core",[xI]:"fire-core-compat",[DI]:"fire-analytics",[NI]:"fire-analytics-compat",[MI]:"fire-app-check",[OI]:"fire-app-check-compat",[VI]:"fire-auth",[kI]:"fire-auth-compat",[PI]:"fire-rtdb",[UI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[jI]:"fire-fn",[zI]:"fire-fn-compat",[BI]:"fire-iid",[qI]:"fire-iid-compat",[HI]:"fire-fcm",[FI]:"fire-fcm-compat",[GI]:"fire-perf",[KI]:"fire-perf-compat",[QI]:"fire-rc",[YI]:"fire-rc-compat",[XI]:"fire-gcs",[$I]:"fire-gcs-compat",[ZI]:"fire-fst",[JI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,iC=new Map,Lm=new Map;function aE(r,e){try{r.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const e=r.name;if(Lm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const n of ah.values())aE(n,r);for(const n of iC.values())aE(n,r);return!0}function pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Jl("app","Firebase",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=tC;function y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=h0()),!n)throw Hr.create("no-options");const u=ah.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const f=new hI(o);for(const p of Lm.values())f.addComponent(p);const m=new sC(n,s,f);return ah.set(o,m),m}function _0(r=Um){const e=ah.get(r);if(!e&&r===Um&&h0())return y0();if(!e)throw Hr.create("no-app",{appName:r});return e}function Fr(r,e,n){let s=nC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(f.join(" "));return}no(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebase-heartbeat-database",oC=1,Fl="firebase-heartbeat-store";let Em=null;function v0(){return Em||(Em=wI(aC,oC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),Em}async function lC(r){try{const n=(await v0()).transaction(Fl),s=await n.objectStore(Fl).get(E0(r));return await n.done,s}catch(e){if(e instanceof ar)er.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function oE(r,e){try{const s=(await v0()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,E0(r)),await s.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1024,cC=30;class hC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=lE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>cC){const f=mC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lE(),{heartbeatsToSend:s,unsentEntries:o}=fC(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function lE(){return new Date().toISOString().substring(0,10)}function fC(r,e=uC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),uE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),uE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uE(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function mC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r){no(new qs("platform-logger",e=>new II(e),"PRIVATE")),no(new qs("heartbeat",e=>new hC(e),"PRIVATE")),Fr(Pm,sE,r),Fr(Pm,sE,"esm2020"),Fr("fire-js","")}pC("");var gC="firebase",yC="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(gC,yC,"app");function T0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _C=T0,b0=new Jl("auth","Firebase",T0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new dp("@firebase/auth");function vC(r,...e){oh.logLevel<=Oe.WARN&&oh.warn(`Auth (${fo}): ${r}`,...e)}function Kc(r,...e){oh.logLevel<=Oe.ERROR&&oh.error(`Auth (${fo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r,...e){throw gp(r,...e)}function mi(r,...e){return gp(r,...e)}function A0(r,e,n){const s={..._C(),[e]:n};return new Jl("auth","Firebase",s).create(e,{appName:r.name})}function Gr(r){return A0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return b0.create(r,...e)}function Ae(r,e,...n){if(!r)throw gp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Kc(e),new Error(e)}function nr(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function EC(){return cE()==="http:"||cE()==="https:"}function cE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EC()||XR()||"connection"in navigator)?navigator.onLine:!0}function bC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=KR()||$R()}get(){return TC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(r,e){nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SC=new tu(3e4,6e4);function Dh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function mo(r,e,n,s,o={}){return S0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=eu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return YR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(g.credentials="include"),w0.fetch()(await I0(r,r.config.apiHost,n,m),g)})}async function S0(r,e,n){r._canInitEmulator=!1;const s={...AC,...e};try{const o=new RC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Mc(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw A0(r,v,g);tr(r,v)}}catch(o){if(o instanceof ar)throw o;tr(r,"network-request-failed",{message:String(o)})}}async function R0(r,e,n,s,o={}){const u=await mo(r,e,n,s,o);return"mfaPendingCredential"in u&&tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function I0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?yp(r.config,o):`${r.config.apiScheme}://${o}`;return wC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class RC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),SC.get())})}}function Mc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e){return mo(r,"POST","/v1/accounts:delete",e)}async function lh(r,e){return mo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(r,e=!1){const n=Pn(r),s=await n.getIdToken(e),o=_p(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ll(Tm(o.auth_time)),issuedAtTime:Ll(Tm(o.iat)),expirationTime:Ll(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tm(r){return Number(r)*1e3}function _p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=u0(n);return o?JSON.parse(o):(Kc("Failed to decode base64 JWT payload"),null)}catch(o){return Kc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function hE(r){const e=_p(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&xC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await Gl(r,lh(e,{idToken:n}));Ae(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?C0(o.providerUserInfo):[],f=OC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function DC(r){const e=Pn(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function C0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,e){const n=await S0(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await I0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(p.credentials="include"),w0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VC(r,e){return mo(r,"POST","/v2/accounts:revokeToken",Dh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=hE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CC(this,e)}reload(){return DC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Gl(this,IC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:N,providerData:U,stsTokenManager:Z}=n;Ae(T&&Z,e,"internal-error");const Q=Za.fromJSON(this.name,Z);Ae(typeof T=="string",e,"internal-error"),kr(s,e.name),kr(o,e.name),Ae(typeof b=="boolean",e,"internal-error"),Ae(typeof N=="boolean",e,"internal-error"),kr(u,e.name),kr(f,e.name),kr(m,e.name),kr(p,e.name),kr(g,e.name),kr(v,e.name);const ce=new Qn({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(ce.providerData=U.map(se=>({...se}))),p&&(ce._redirectEventId=p),ce}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?C0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Za;m.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function $i(r){nr(r instanceof Function,"Expected a class definition");let e=fE.get(r);return e?(nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,fE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x0.type="NONE";const dE=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa($i(dE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$i(dE);const f=Qc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const b=await lh(e,{idToken:v}).catch(()=>{});if(!b)break;T=await Qn._fromGetAccountInfoResponse(e,b,v)}else T=Qn._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k0(e))return"Blackberry";if(P0(e))return"Webos";if(D0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(V0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function N0(r=Jt()){return/firefox\//i.test(r)}function D0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(r=Jt()){return/crios\//i.test(r)}function M0(r=Jt()){return/iemobile/i.test(r)}function V0(r=Jt()){return/android/i.test(r)}function k0(r=Jt()){return/blackberry/i.test(r)}function P0(r=Jt()){return/webos/i.test(r)}function vp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kC(r=Jt()){var e;return vp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function PC(){return ZR()&&document.documentMode===10}function U0(r=Jt()){return vp(r)||V0(r)||P0(r)||k0(r)||/windows phone/i.test(r)||M0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r,e=[]){let n;switch(r){case"Browser":n=mE(Jt());break;case"Worker":n=`${mE(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(r,e={}){return mo(r,"GET","/v2/passwordPolicy",Dh(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=6;class zC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new UC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Gr(this));const n=e?Pn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LC(this),n=new zC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Oh(r){return Pn(r)}class pE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(r){Ep=r}function HC(r){return Ep.loadJS(r)}function FC(){return Ep.gapiScript}function GC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r,e){const n=pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function QC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function YC(r,e,n){const s=Oh(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=j0(e),{host:f,port:m}=XC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Bs(g,s.config.emulator)&&Bs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ho(f)?(d0(`${u}//${f}${p}`),m0("Auth",!0)):$C()}function j0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XC(r){const e=j0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:gE(f)}}}function gE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $C(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return R0(r,"POST","/v1/accounts:signInWithIdp",Dh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="http://localhost";class Hs extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Hs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:ZC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends B0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends nu{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends nu{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends nu{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(r,e){return R0(r,"POST","/v1/accounts:signUp",Dh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),f=yE(s);return new Yr({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=yE(s);return new Yr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function yE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r){var o;if(Kn(r.app))return Promise.reject(Gr(r));const e=Oh(r);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new Yr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await WC(e,{returnSecureToken:!0}),s=await Yr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends ar{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function q0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,e,s):u})}async function e2(r,e,n=!1){const s=await Gl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Yr._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e,n=!1){const{auth:s}=r;if(Kn(s.app))return Promise.reject(Gr(s));const o="reauthenticate";try{const u=await Gl(r,q0(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const f=_p(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(r.uid===m,s,"user-mismatch"),Yr._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&tr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(r,e,n=!1){if(Kn(r.app))return Promise.reject(Gr(r));const s="signIn",o=await q0(r,s,e),u=await Yr._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function i2(r,e,n,s){return Pn(r).onIdTokenChanged(e,n,s)}function r2(r,e,n){return Pn(r).beforeAuthStateChanged(e,n)}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1e3,a2=10;class F0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const o2=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G0.type="SESSION";const K0=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await l2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Tp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function c2(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function h2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function d2(){return Q0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firebaseLocalStorageDb",m2=1,fh="firebaseLocalStorage",X0="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function p2(){const r=indexedDB.deleteDatabase(Y0);return new iu(r).toPromise()}function Bm(){const r=indexedDB.open(Y0,m2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(fh,{keyPath:X0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(fh)?e(s):(s.close(),await p2(),e(await Bm()))})})}async function _E(r,e,n){const s=Vh(r,!0).put({[X0]:e,value:n});return new iu(s).toPromise()}async function g2(r,e){const n=Vh(r,!1).get(e),s=await new iu(n).toPromise();return s===void 0?null:s.value}function vE(r,e){const n=Vh(r,!0).delete(e);return new iu(n).toPromise()}const y2=800,_2=3;class $0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await _E(e,hh,"1"),await vE(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_E(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>g2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$0.type="LOCAL";const v2=$0;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r,e){return e?$i(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T2(r){return n2(r.auth,new bp(r),r.bypassAuthState)}function b2(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),t2(n,new bp(r),r.bypassAuthState)}async function A2(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),e2(n,new bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:tr(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new tu(2e3,1e4);class $a extends Z0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="pendingRedirect",Yc=new Map;class R2 extends Z0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const s=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(r,e){const n=N2(e),s=x2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function C2(r,e){Yc.set(r._key(),e)}function x2(r){return $i(r._redirectPersistence)}function N2(r){return Qc(S2,r.config.apiKey,r.name)}async function D2(r,e,n=!1){if(Kn(r.app))return Promise.reject(Gr(r));const s=Oh(r),o=E2(s,e),f=await new R2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=10*60*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!W0(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function W0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,e={}){return mo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function L2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await k2(r);for(const n of e)try{if(j2(n))return}catch{}tr(r,"unauthorized-domain")}function j2(r){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!U2.test(n))return!1;if(P2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new tu(3e4,6e4);function TE(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function B2(r){return new Promise((e,n)=>{var o,u,f;function s(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(mi(r,"network-request-failed"))},timeout:z2.get()})}if((u=(o=pi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=pi().gapi)!=null&&f.load)s();else{const m=GC("iframefcb");return pi()[m]=()=>{gapi.load?s():n(mi(r,"network-request-failed"))},HC(`${FC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function q2(r){return Xc=Xc||B2(r),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new tu(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?yp(e,G2):`https://${r.config.authDomain}/${F2}`,s={apiKey:e.apiKey,appName:r.name,v:fo},o=Q2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function X2(r){const e=await q2(r),n=pi().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:Y2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},H2.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,W2=600,J2="_blank",ex="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tx(r,e,n,s=Z2,o=W2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...$2,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=O0(g)?J2:n),N0(g)&&(e=e||ex,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[N,U])=>`${b}${N}=${U},`,"");if(kC(g)&&m!=="_self")return nx(e||"",m),new bE(null);const T=window.open(e||"",m,v);Ae(T,r,"popup-blocked");try{T.focus()}catch{}return new bE(T)}function nx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__/auth/handler",rx="emulator/auth/handler",sx=encodeURIComponent("fac");async function AE(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fo,eventId:o};if(e instanceof B0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",rI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof nu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${sx}=${encodeURIComponent(p)}`:"";return`${ax(r)}?${eu(m).slice(1)}${g}`}function ax({config:r}){return r.emulator?yp(r,rx):`https://${r.authDomain}/${ix}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class ox{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=D2,this._overrideRedirectResult=C2}async _openPopup(e,n,s,o){var f;nr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await AE(e,n,s,jm(),o);return tx(e,u,Tp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await AE(e,n,s,jm(),o);return c2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await X2(e),s=new M2(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[bm];u!==void 0&&n(!!u),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U0()||D0()||vp()}}const lx=ox;var wE="@firebase/auth",SE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hx(r){no(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L0(r)},g=new BC(s,o,u,p);return QC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new qs("auth-internal",e=>{const n=Oh(e.getProvider("auth").getImmediate());return(s=>new ux(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(wE,SE,cx(r)),Fr(wE,SE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=5*60,dx=f0("authIdTokenMaxAge")||fx;let RE=null;const mx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dx)return;const o=n==null?void 0:n.token;RE!==o&&(RE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function px(r=_0()){const e=pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KC(r,{popupRedirectResolver:lx,persistence:[v2,o2,K0]}),s=f0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=mx(u.toString());r2(n,f,()=>f(n.currentUser)),i2(n,m=>f(m))}}const o=c0("auth");return o&&YC(n,`http://${o}`),n}function gx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}qC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hx("Browser");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,J0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function I(){}I.prototype=S.prototype,x.D=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(O,M,k){for(var R=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)R[Be-2]=arguments[Be];return S.prototype[M].apply(O,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,I){I||(I=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;16>M;++M)O[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],M=x.g[2];var k=x.g[3],R=S+(k^I&(M^k))+O[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=k+(M^S&(I^M))+O[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(I^k&(S^I))+O[2]+606105819&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(S^M&(k^S))+O[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(k^I&(M^k))+O[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=k+(M^S&(I^M))+O[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(I^k&(S^I))+O[6]+2821735955&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(S^M&(k^S))+O[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(k^I&(M^k))+O[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=k+(M^S&(I^M))+O[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(I^k&(S^I))+O[10]+4294925233&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(S^M&(k^S))+O[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(k^I&(M^k))+O[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=k+(M^S&(I^M))+O[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(I^k&(S^I))+O[14]+2792965006&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(S^M&(k^S))+O[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(M^k&(I^M))+O[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(S^I))+O[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(k^S))+O[11]+643717713&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^S&(M^k))+O[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(M^k&(I^M))+O[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(S^I))+O[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(k^S))+O[15]+3634488961&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^S&(M^k))+O[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(M^k&(I^M))+O[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(S^I))+O[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(k^S))+O[3]+4107603335&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^S&(M^k))+O[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(M^k&(I^M))+O[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(S^I))+O[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(k^S))+O[7]+1735328473&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^S&(M^k))+O[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(I^M^k)+O[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=k+(S^I^M)+O[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^I)+O[11]+1839030562&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^S)+O[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(I^M^k)+O[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=k+(S^I^M)+O[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^I)+O[7]+4139469664&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^S)+O[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(I^M^k)+O[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=k+(S^I^M)+O[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^I)+O[3]+3572445317&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^S)+O[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(I^M^k)+O[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=k+(S^I^M)+O[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^I)+O[15]+530742520&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^S)+O[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(M^(I|~k))+O[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=k+(I^(S|~M))+O[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~I))+O[14]+2878612391&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~S))+O[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=S+(M^(I|~k))+O[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=k+(I^(S|~M))+O[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~I))+O[10]+4293915773&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~S))+O[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=S+(M^(I|~k))+O[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=k+(I^(S|~M))+O[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~I))+O[6]+2734768916&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~S))+O[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=S+(M^(I|~k))+O[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=k+(I^(S|~M))+O[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~I))+O[2]+718787259&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~S))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var I=S-this.blockSize,O=this.B,M=this.h,k=0;k<S;){if(M==0)for(;k<=I;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(O[M++]=x.charCodeAt(k++),M==this.blockSize){o(this,O),M=0;break}}else for(;k<S;)if(O[M++]=x[k++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var I=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=I&255,I/=256;for(this.u(x),x=Array(16),S=I=0;4>S;++S)for(var O=0;32>O;O+=8)x[I++]=this.g[S]>>>O&255;return x};function u(x,S){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function f(x,S){this.h=S;for(var I=[],O=!0,M=x.length-1;0<=M;M--){var k=x[M]|0;O&&k==S||(I[M]=k,O=!1)}this.g=I}var m={};function p(x){return-128<=x&&128>x?u(x,function(S){return new f([S|0],0>S?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return Q(g(-x));for(var S=[],I=1,O=0;x>=I;O++)S[O]=x/I|0,I*=4294967296;return new f(S,0)}function v(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return Q(v(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),O=T,M=0;M<x.length;M+=8){var k=Math.min(8,x.length-M),R=parseInt(x.substring(M,M+k),S);8>k?(k=g(Math.pow(S,k)),O=O.j(k).add(g(R))):(O=O.j(I),O=O.add(g(R)))}return O}var T=p(0),b=p(1),N=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-Q(this).m();for(var x=0,S=1,I=0;I<this.g.length;I++){var O=this.i(I);x+=(0<=O?O:4294967296+O)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(Z(this))return"-"+Q(this).toString(x);for(var S=g(Math.pow(x,6)),I=this,O="";;){var M=ne(I,S).g;I=ce(I,M.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=M,U(I))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function Z(x){return x.h==-1}r.l=function(x){return x=ce(this,x),Z(x)?-1:U(x)?0:1};function Q(x){for(var S=x.g.length,I=[],O=0;O<S;O++)I[O]=~x.g[O];return new f(I,~x.h).add(b)}r.abs=function(){return Z(this)?Q(this):this},r.add=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],O=0,M=0;M<=S;M++){var k=O+(this.i(M)&65535)+(x.i(M)&65535),R=(k>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);O=R>>>16,k&=65535,R&=65535,I[M]=R<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ce(x,S){return x.add(Q(S))}r.j=function(x){if(U(this)||U(x))return T;if(Z(this))return Z(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(Z(x))return Q(this.j(Q(x)));if(0>this.l(N)&&0>x.l(N))return g(this.m()*x.m());for(var S=this.g.length+x.g.length,I=[],O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<x.g.length;M++){var k=this.i(O)>>>16,R=this.i(O)&65535,Be=x.i(M)>>>16,qe=x.i(M)&65535;I[2*O+2*M]+=R*qe,se(I,2*O+2*M),I[2*O+2*M+1]+=k*qe,se(I,2*O+2*M+1),I[2*O+2*M+1]+=R*Be,se(I,2*O+2*M+1),I[2*O+2*M+2]+=k*Be,se(I,2*O+2*M+2)}for(O=0;O<S;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=S;O<2*S;O++)I[O]=0;return new f(I,0)};function se(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ie(x,S){this.g=x,this.h=S}function ne(x,S){if(U(S))throw Error("division by zero");if(U(x))return new ie(T,T);if(Z(x))return S=ne(Q(x),S),new ie(Q(S.g),Q(S.h));if(Z(S))return S=ne(x,Q(S)),new ie(Q(S.g),S.h);if(30<x.g.length){if(Z(x)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=S;0>=O.l(x);)I=re(I),O=re(O);var M=ue(I,1),k=ue(O,1);for(O=ue(O,2),I=ue(I,2);!U(O);){var R=k.add(O);0>=R.l(x)&&(M=M.add(I),k=R),O=ue(O,1),I=ue(I,1)}return S=ce(x,M.j(S)),new ie(M,S)}for(M=T;0<=x.l(S);){for(I=Math.max(1,Math.floor(x.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=g(I),R=k.j(S);Z(R)||0<R.l(x);)I-=O,k=g(I),R=k.j(S);U(k)&&(k=b),M=M.add(k),x=ce(x,R)}return new ie(M,x)}r.A=function(x){return ne(this,x).h},r.and=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)&x.i(O);return new f(I,this.h&x.h)},r.or=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)|x.i(O);return new f(I,this.h|x.h)},r.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)^x.i(O);return new f(I,this.h^x.h)};function re(x){for(var S=x.g.length+1,I=[],O=0;O<S;O++)I[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(I,x.h)}function ue(x,S){var I=S>>5;S%=32;for(var O=x.g.length-I,M=[],k=0;k<O;k++)M[k]=0<S?x.i(k+I)>>>S|x.i(k+I+1)<<32-S:x.i(k+I);return new f(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,J0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Kr=f}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eb,Ml,tb,$c,qm,nb,ib,rb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in _))break e;_=_[L]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,L={next:function(){if(!w&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,L,G){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[L].apply(w,oe)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function Q(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const L=c.length||0,G=w.length||0;c.length=L+G;for(let oe=0;oe<G;oe++)c[L+oe]=w[oe]}else c.push(w)}}class ce{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var re=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ue(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(_ in w)c[_]=w[_];for(let G=0;G<I.length;G++)_=I[G],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function R(){var c=ke;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,_){const w=qe.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var qe=new ce(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,he=!1,ke=new Be,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){k(_)}var y=qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function we(c,y){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ne(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}U(we,te);var Te={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function sn(c,y,_,w,L){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=L,this.key=++Xe,this.da=this.fa=!1}function En(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Un(c){this.src=c,this.g={},this.h=0}Un.prototype.add=function(c,y,_,w,L){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var oe=Ln(c,y,w,L);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new sn(y,this.src,G,!!w,L),y.fa=_,c.push(y)),y};function $n(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],L=Array.prototype.indexOf.call(w,y,void 0),G;(G=0<=L)&&Array.prototype.splice.call(w,L,1),G&&(En(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ln(c,y,_,w){for(var L=0;L<c.length;++L){var G=c[L];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==w)return L}return-1}var Tn="closure_lm_"+(1e6*Math.random()|0),et={};function ns(c,y,_,w,L){if(Array.isArray(y)){for(var G=0;G<y.length;G++)ns(c,y[G],_,w,L);return null}return _=uu(_),c&&c[gt]?c.K(y,_,g(w)?!!w.capture:!1,L):Kt(c,y,_,!1,w,L)}function Kt(c,y,_,w,L,G){if(!y)throw Error("Invalid event type");var oe=g(L)?!!L.capture:!!L,Pe=Ws(c);if(Pe||(c[Tn]=Pe=new Un(c)),_=Pe.add(y,_,w,oe,G),_.proxy)return _;if(w=Xh(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)me||(L=oe),L===void 0&&(L=!1),c.addEventListener(y.toString(),w,L);else if(c.attachEvent)c.attachEvent(is(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xh(){function c(_){return y.call(c.src,c.listener,_)}const y=$h;return c}function Eo(c,y,_,w,L){if(Array.isArray(y))for(var G=0;G<y.length;G++)Eo(c,y[G],_,w,L);else w=g(w)?!!w.capture:!!w,_=uu(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Ln(G,_,w,L),-1<_&&(En(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ln(y,_,w,L)),(_=-1<c?y[c]:null)&&Zs(_))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])$n(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(is(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Ws(y))?($n(_,c),_.h==0&&(_.src=null,y[Tn]=null)):En(c)}}}function is(c){return c in et?et[c]:et[c]="on"+c}function $h(c,y){if(c.da)c=!0;else{y=new we(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Zs(c),c=_.call(w,y)}return c}function Ws(c){return c=c[Tn],c instanceof Un?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(y){return c.handleEvent(y)}),c[To])}function ut(){le.call(this),this.i=new Un(this),this.M=this,this.F=null}U(ut,le),ut.prototype[gt]=!0,ut.prototype.removeEventListener=function(c,y,_,w){Eo(this,c,y,_,w)};function Ke(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new te(y,c);else if(y instanceof te)y.target=y.target||c;else{var L=y;y=new te(w,c),O(y,L)}if(L=!0,_)for(var G=_.length-1;0<=G;G--){var oe=y.g=_[G];L=hn(oe,w,!0,y)&&L}if(oe=y.g=c,L=hn(oe,w,!0,y)&&L,L=hn(oe,w,!1,y)&&L,_)for(G=0;G<_.length;G++)oe=y.g=_[G],L=hn(oe,w,!1,y)&&L}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)En(_[w]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ut.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function hn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,G=0;G<y.length;++G){var oe=y[G];if(oe&&!oe.da&&oe.capture==_){var Pe=oe.listener,Rt=oe.ha||oe.src;oe.fa&&$n(c.i,oe),L=Pe.call(Rt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Qt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function cu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zh extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){le.call(this),this.h=c,this.g={}}U(rs,le);var ss=[];function as(c){ue(c.g,function(y,_){this.g.hasOwnProperty(_)&&Zs(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,Js=m.JSON.parse,os=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function bo(){}bo.prototype.h=null;function Ao(c){return c.h||(c.h=c.i())}function wo(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){te.call(this,"d")}U(bi,te);function So(){te.call(this,"c")}U(So,te);var Zn={},Ro=null;function or(){return Ro=Ro||new ut}Zn.La="serverreachability";function ea(c){te.call(this,Zn.La,c)}U(ea,te);function lr(c){const y=or();Ke(y,new ea(y))}Zn.STAT_EVENT="statevent";function hu(c,y){te.call(this,Zn.STAT_EVENT,c),this.stat=y}U(hu,te);function st(c){const y=or();Ke(y,new hu(y,c))}Zn.Ma="timingevent";function St(c,y){te.call(this,Zn.Ma,c),this.size=y}U(St,te);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Io(c,y,_,w,L,G){c.info(function(){if(c.g)if(G)for(var oe="",Pe=G.split("&"),Rt=0;Rt<Pe.length;Rt++){var Ue=Pe[Rt].split("=");if(1<Ue.length){var Ot=Ue[0];Ue=Ue[1];var It=Ot.split("_");oe=2<=It.length&&It[1]=="type"?oe+(Ot+"="+Ue+"&"):oe+(Ot+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+y+`
`+_+`
`+oe})}function Wh(c,y,_,w,L,G,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+y+`
`+_+`
`+G+" "+oe})}function ur(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,_)+(w?" "+w:"")})}function fu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var G=L[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<L.length;oe++)L[oe]=""}}}}return jn(_)}catch{return y}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}U(Jn,bo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function en(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Co={},ta={};function zn(c,y,_){c.L=1,c.v=ds(fn(y)),c.m=_,c.P=!0,wi(c,null)}function wi(c,y){c.F=Date.now(),us(c),c.A=fn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Vo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ft,c.g=Cu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Zh(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ss[0]=L.toString()),L=ss);for(var G=0;G<L.length;G++){var oe=ns(_,L[G],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),lr(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const It=Rn(this.g);var y=this.g.Ba();const Oi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Oi?lr(3):lr(2)),hr(this);var _=this.g.Z();this.X=_;t:if(du(this)){var w=Eu(this.g);c="";var L=w.length,G=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),ei(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(G&&y==L-1)});w.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Wh(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Pe)){var Ue=Pe;break t}}Ue=null}if(_=Ue)ur(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,_);else{this.o=!1,this.s=3,st(12),Lt(this),ei(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<oe.length;)if(jt=mu(this,oe),jt==ta){It==4&&(this.s=4,st(14),_=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Co){this.s=4,st(15),ur(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else ur(this.i,this.l,jt,null),cs(this,jt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||oe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)ur(this.i,this.l,oe,"[Invalid Chunked Response]"),Lt(this),ei(this);else if(0<oe.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ts(Ot),Ot.M=!0,st(11))}}else ur(this.i,this.l,oe,null),cs(this,oe);It==4&&Lt(this),this.o&&!this.J&&(It==4?Su(this.j,this):(this.o=!1,us(this)))}else rf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Lt(this),ei(this)}}}catch{}finally{}};function du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ta:(_=Number(y.substring(_,w)),isNaN(_)?Co:(w+=1,w+_>y.length?ta:(y=y.slice(w,w+_),c.C=w+_,y)))}en.prototype.cancel=function(){this.J=!0,Lt(this)};function us(c){c.S=Date.now()+c.I,pu(c,c.I)}function pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),y)}function hr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fu(this.i,this.A),this.L!=2&&(lr(),st(17)),Lt(this),this.s=2,ei(this)):pu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Su(c.j,c)}function Lt(c){hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||xo(_.h,c))){if(!c.K&&xo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)da(_),ha(_);else break e;jo(_),st(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(b(_.Za,_),6e3));if(1>=ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Di(_,11)}else if((c.K||_.g==c)&&da(_),!se(y))for(L=_.Da.g.parse(y),y=0;y<L.length;y++){let Ue=L[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Ot=Ue[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const It=Ue[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Oi=Ue[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(w=1.5*Oi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const jt=c.g;if(jt){const oi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var G=w.h;G.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ra(G,G.h),G.h=null))}if(w.D){const Bo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(w.ya=Bo,$e(w.I,w.D,Bo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var oe=c;if(w.qa=Iu(w,w.J?w.ia:null,w.W),oe.K){tn(w.h,oe);var Pe=oe,Rt=w.L;Rt&&(Pe.I=Rt),Pe.B&&(hr(Pe),us(Pe)),w.g=oe}else Au(w);0<_.i.length&&fa(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Di(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Di(_,7):Uo(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}lr(4)}catch{}}var gu=class{constructor(c,y){this.g=c,this.map=y}};function Si(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ia(c){return c.h?1:c.g?c.g.size:0}function xo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ra(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Si.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function Jh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Do(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=sa(c),w=Jh(c),L=w.length,G=0;G<L;G++)y.call(void 0,w[G],_&&_[G],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ef(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),L=null;if(0<=w){var G=c[_].substring(0,w);L=c[_].substring(w+1)}else G=c[_];y(G,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.s),this.l=c.l;var y=c.i,_=new Ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),fr(this,y[4]),this.l=An(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ms(y,Oo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ms(y,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ms(_,_.charAt(0)=="/"?tf:Mo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ms(_,aa)),c.join("")};function fn(c){return new _t(c)}function fs(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ii?(c.i=y,_u(c.i,c.h)):(_||(y=ms(y,nf)),c.i=new Ii(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function ds(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,yu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,Mo=/[#\?:]/g,tf=/[#\?]/g,nf=/[#\?@]/g,aa=/#/g;function Ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&ef(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ii.prototype,r.add=function(c,y){wn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){wn(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xi(c,y){return wn(c),y=ti(c,y),c.g.has(y)}r.forEach=function(c,y){wn(this),this.g.forEach(function(_,w){_.forEach(function(L){c.call(y,L,w,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const L=c[w];for(let G=0;G<L.length;G++)_.push(y[w])}return _},r.V=function(c){wn(this);let y=[];if(typeof c=="string")xi(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return wn(this),this.i=null,c=ti(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vo(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const G=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var L=G;oe[w]!==""&&(L+="="+encodeURIComponent(String(oe[w]))),c.push(L)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _u(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,w){var L=w.toLowerCase();w!=L&&(Ci(this,w),Vo(this,L,_))},c)),c.j=y}function ps(c,y){const _=new bn;if(m.Image){const w=new Image;w.onload=N(Sn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=N(Sn,_,"TestLoadImage: error",!1,y,w),w.onabort=N(Sn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(Sn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Bn(c,y){const _=new bn,w=new AbortController,L=setTimeout(()=>{w.abort(),Sn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(L),G.ok?Sn(_,"TestPingServer: ok",!0,y):Sn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,y)})}function Sn(c,y,_,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(_)}catch{}}function gs(){this.g=new os}function ni(c,y,_){const w=_||"";try{Do(c,function(L,G){let oe=L;g(L)&&(oe=jn(L)),y.push(w+G+"="+encodeURIComponent(oe))})}catch(L){throw y.push(w+"type="+encodeURIComponent("_badmap")),L}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(dr,bo),dr.prototype.g=function(){return new Ni(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ni,ut),r=Ni.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return ue(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Dt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Po(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function Fe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Fe,ut);var oa=/^https?$/i,ys=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Ao(this.o):Ao(Wn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){vu(this,G);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)_.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||w||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of _)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){vu(this,G)}};function vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,la(c),si(c)}function la(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Qt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=oe===0){var L=String(c.D).match(hs)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),w=!oa.test(L?L.toLowerCase():"")}_=w}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var G=2<Rn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",la(c)}}finally{si(c)}}}}function si(c,y){if(c.g){_s(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=w}catch{}}}function _s(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Js(y)}};function Eu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rf(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(se(c[w]))continue;var _=M(c[w]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[L]||[];y[L]=G,G.push(_)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ca(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){st(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Iu(this,null,this.W),fa(this)};function Uo(c){if(Tu(c),c.G==3){var y=c.U++,_=fn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),Es(c,_),y=new en(c,c.j,y),y.L=2,y.v=ds(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Cu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}Ru(c)}function ha(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Tu(c){ha(c),c.u&&(m.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fa(c){if(!na(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||D(),he||(ae(),he=!0),ke.add(y,c),c.B=0}}function sf(c,y){return ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,y),zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new en(this,this.j,c);let G=this.o;if(this.S&&(G?(G=S(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(L.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=bu(this,L,y),_=fn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Es(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(Po(G)))+"&"+y:this.m&&Dt(_,this.m,G)),ra(this.h,L),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),L.T=!0,zn(L,_,null)):zn(L,_,y),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||na(this.h)||Lo(this))};function Lo(c,y){var _;y?_=y.l:_=c.U++;const w=fn(c.I);$e(w,"SID",c.K),$e(w,"RID",_),$e(w,"AID",c.T),Es(c,w),c.m&&c.o&&Dt(w,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ra(c.h,_),zn(_,w,y)}function Es(c,y){c.H&&ue(c.H,function(_,w){$e(y,w,_)}),c.l&&Do({},function(_,w){$e(y,w,_)})}function bu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?b(c.l.Na,c.l,c):null;e:{var L=c.i;let G=-1;for(;;){const oe=["count="+_];G==-1?0<_?(G=L[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let Pe=!0;for(let Rt=0;Rt<_;Rt++){let Ue=L[Rt].g;const Ot=L[Rt].map;if(Ue-=G,0>Ue)G=Math.max(0,L[Rt].g-100),Pe=!1;else try{ni(Ot,oe,"req"+Ue+"_")}catch{w&&w(Ot)}}if(Pe){w=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Au(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||D(),he||(ae(),he=!0),ke.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),ha(this),wu(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Dt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ds(fn(y)),_.m=null,_.P=!0,wi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),jo(this),st(19))};function da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Su(c,y){var _=null;if(c.g==y){da(c),Ts(c),c.g=null;var w=2}else if(xo(c.h,y))_=y.D,tn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;w=or(),Ke(w,new St(w,_)),fa(c)}else Au(c);else if(L=y.s,L==3||L==0&&0<y.X||!(w==1&&sf(c,y)||w==2&&jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),L){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Di(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),w=c.Xa;const L=!w;w=new _t(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(w,"https"),ds(w),L?ps(w.toString(),_):Bn(w.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),Ru(c),Tu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ru(c){if(c.G=0,c.ka=[],c.l){const y=No(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Iu(c,y,_){var w=_ instanceof _t?fn(_):new _t(_);if(w.g!="")y&&(w.g=y+"."+w.g),fr(w,w.s);else{var L=m.location;w=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var G=new _t(null);w&&fs(G,w),y&&(G.g=y),L&&fr(G,L),_&&(G.l=_),w=G}return _=c.D,y=c.ya,_&&y&&$e(w,_,y),$e(w,"VER",c.la),Es(c,w),w}function Cu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new dr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}U(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Uo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new gu(y.Ya++,c)),y.G==3&&fa(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,nn.aa.N.call(this)};function Nu(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Nu,bi);function Du(){So.call(this),this.status=1}U(Du,So);function ai(c){this.g=c}U(ai,xu),ai.prototype.ua=function(){Ke(this.g,"a")},ai.prototype.ta=function(c){Ke(this.g,new Nu(c))},ai.prototype.sa=function(c){Ke(this.g,new Du)},ai.prototype.ra=function(){Ke(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,rb=function(){return new ma},ib=function(){return or()},nb=Zn,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,$c=cr,Ai.COMPLETE="complete",tb=Ai,wo.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ml=wo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,eb=Fe}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const CE="@firebase/firestore",xE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new dp("@firebase/firestore");function Ga(){return Fs.logLevel}function de(r,...e){if(Fs.logLevel<=Oe.DEBUG){const n=e.map(Ap);Fs.debug(`Firestore (${po}): ${r}`,...n)}}function ir(r,...e){if(Fs.logLevel<=Oe.ERROR){const n=e.map(Ap);Fs.error(`Firestore (${po}): ${r}`,...n)}}function io(r,...e){if(Fs.logLevel<=Oe.WARN){const n=e.map(Ap);Fs.warn(`Firestore (${po}): ${r}`,...n)}}function Ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,sb(r,s,n)}function sb(r,e,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||sb(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class _x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vx{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new ab(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class Ex{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ex(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ax(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Hm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Am(o)===Am(u)?Me(o,u):Am(o)?1:-1}return Me(r.length,e.length)}const wx=55296,Sx=57343;function Am(r){const e=r.charCodeAt(0);return e>=wx&&e<=Sx}function ro(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class it extends di{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const Rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends di{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return Rx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new Ft([DE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r,e,n){if(!n)throw new fe($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ix(r,e,n,s){if(e===!0&&s===!0)throw new fe($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function OE(r){if(!ye.isDocumentKey(r))throw new fe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ME(r){if(ye.isDocumentKey(r))throw new fe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Gs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new fe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const n={typeString:r};return e&&(n.value=e),n}function ru(r,e){if(!lb(r))throw new fe($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,kE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new fe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:At("string",rt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function Cx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Xr(o,ye.empty(),e)}function xx(r){return new Xr(r.readTime,r.key,Kl)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Se.min(),ye.empty(),Kl)}static max(){return new Xr(Se.max(),ye.empty(),Kl)}}function Nx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Dx)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{f[g]=v,++m,m===u&&s(f)},v=>o(v))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Mx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function Uh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function Vx(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="";function kx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=PE(e)),e=Px(r.get(n),e);return PE(e)}function Px(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ub:n+="";break;default:n+=u}}return n}function PE(r){return r+ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Qs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function cb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Nt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hb("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const Ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=Ux.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="server_timestamp",db="__type__",mb="__previous_value__",pb="__local_write_time__";function Rp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[db])==null?void 0:s.stringValue)===fb}function Lh(r){const e=r.mapValue.fields[mb];return Rp(e)?Lh(e):e}function Ql(r){const e=$r(r.mapValue.fields[pb].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,s,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const mh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="__type__",jx="__max__",Pc={mapValue:{}},yb="__vector__",ph="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rp(r)?4:Bx(r)?9007199254740991:zx(r)?10:11:Ee(28295,{value:r})}function Ei(r,e){if(r===e)return!0;const n=Wr(r);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$r(o.timestampValue),m=$r(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Zr(o.bytesValue).isEqual(Zr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(UE(f)!==UE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find(n=>Ei(n,e))!==void 0}function so(r,e){if(r===e)return 0;const n=Wr(r),s=Wr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return jE(r.timestampValue,e.timestampValue);case 4:return jE(Ql(r),Ql(e));case 5:return Hm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Zr(u),p=Zr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Me(m[g],p[g]);if(v!==0)return v}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(pt(u.latitude),pt(f.latitude));return m!==0?m:Me(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return zE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var b,N,U,Z;const m=u.fields||{},p=f.fields||{},g=(b=m[ph])==null?void 0:b.arrayValue,v=(N=p[ph])==null?void 0:N.arrayValue,T=Me(((U=g==null?void 0:g.values)==null?void 0:U.length)||0,((Z=v==null?void 0:v.values)==null?void 0:Z.length)||0);return T!==0?T:zE(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Pc.mapValue&&f===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(f===Pc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=Hm(p[T],v[T]);if(b!==0)return b;const N=so(m[p[T]],g[v[T]]);if(N!==0)return N}return Me(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function jE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=$r(r),s=$r(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function zE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function ao(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Zr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function Zc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Zc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Qs(s.fields,(u,f)=>{o+=u.length+Zc(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function BE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gm(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function qE(r){return!!r&&"nullValue"in r}function HE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function zx(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[gb])==null?void 0:s.stringValue)===yb}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(r.arrayValue.values[n]);return e}return{...r}}function Bx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=jl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Qs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Vn(jl(this.value))}}function _b(r){const e=[];return Qs(r.fields,(n,s)=>{const o=new Ft([n]);if(Wc(s)){const u=_b(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),Vn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function FE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function GE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function qx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{}class bt extends vb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Fx(e,n,s):n==="array-contains"?new Qx(e,s):n==="in"?new Yx(e,s):n==="not-in"?new Xx(e,s):n==="array-contains-any"?new $x(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Gx(e,s):new Kx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends vb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return Eb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Eb(r){return r.op==="and"}function Tb(r){return Hx(r)&&Eb(r)}function Hx(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function Km(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(Tb(r))return r.filters.map(e=>Km(e)).join(",");{const e=r.filters.map(n=>Km(n)).join(",");return`${r.op}(${e})`}}function bb(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&bb(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function Ab(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ab).join(" ,")+"}"}(r):"Filter"}class Fx extends bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gx extends bt{constructor(e,n){super(e,"in",n),this.keys=wb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kx extends bt{constructor(e,n){super(e,"not-in",n),this.keys=wb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wb(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class Qx extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&Xl(n.arrayValue,this.value)}}class Yx extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class Xx extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class $x extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function KE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Zx(r,e,n,s,o,u,f)}function Cp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ao(s)).join(",")),e.Te=n}return e.Te}function xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!qx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!GE(r.startAt,e.startAt)&&GE(r.endAt,e.endAt)}function Qm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Wx(r,e,n,s,o,u,f,m){return new _o(r,e,n,s,o,u,f,m)}function Np(r){return new _o(r)}function QE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sb(r){return r.collectionGroup!==null}function zl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new $l(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new $l(Ft.keyField(),s))}return e.Ie}function gi(r){const e=Re(r);return e.Ee||(e.Ee=Jx(e,zl(r))),e.Ee}function Jx(r,e){if(r.limitType==="F")return KE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new $l(o.field,u)});const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return KE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ym(r,e){const n=r.filters.concat([e]);return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function yh(r,e,n){return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return xp(gi(r),gi(e))&&r.limitType===e.limitType}function Rb(r){return`${Cp(gi(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Ab(o)).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=FE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,zl(s),o)||s.endAt&&!function(f,m,p){const g=FE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,zl(s),o))}(r,e)}function eN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ib(r){return(e,n)=>{let s=!1;for(const o of zl(r)){const u=tN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tN(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?so(p,g):Ee(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new lt(ye.comparator);function rr(){return nN}const Cb=new lt(ye.comparator);function Vl(...r){let e=Cb;for(const n of r)e=e.insert(n.key,n);return e}function xb(r){let e=Cb;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function js(){return Bl()}function Nb(){return Bl()}function Bl(){return new Ys(r=>r.toString(),(r,e)=>r.isEqual(e))}const iN=new lt(ye.comparator),rN=new Nt(ye.comparator);function Ve(...r){let e=rN;for(const n of r)e=e.add(n);return e}const sN=new Nt(Me);function aN(){return sN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function Db(r){return{integerValue:""+r}}function oN(r,e){return Vx(e)?Db(e):Dp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function lN(r,e,n){return r instanceof _h?function(o,u){const f={fields:{[db]:{stringValue:fb},[pb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rp(u)&&(u=Lh(u)),u&&(f.fields[mb]=u),{mapValue:f}}(n,e):r instanceof Zl?Mb(r,e):r instanceof Wl?Vb(r,e):function(o,u){const f=Ob(o,u),m=YE(f)+YE(o.Ae);return Gm(f)&&Gm(o.Ae)?Db(m):Dp(o.serializer,m)}(r,e)}function uN(r,e,n){return r instanceof Zl?Mb(r,e):r instanceof Wl?Vb(r,e):n}function Ob(r,e){return r instanceof vh?function(s){return Gm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _h extends Bh{}class Zl extends Bh{constructor(e){super(),this.elements=e}}function Mb(r,e){const n=kb(e);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Bh{constructor(e){super(),this.elements=e}}function Vb(r,e){let n=kb(e);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class vh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YE(r){return pt(r.integerValue||r.doubleValue)}function kb(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?ro(s.elements,o.elements,Ei):s instanceof vh&&o instanceof vh?Ei(s.Ae,o.Ae):s instanceof _h&&o instanceof _h}(r.transform,e.transform)}class hN{constructor(e,n){this.version=e,this.transformResults=n}}class Ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qh{}function Pb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lb(r.key,Ji.none()):new su(r.key,r.data,Ji.none());{const n=r.data,s=Vn.empty();let o=new Nt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Xs(r.key,s,new Yn(o.toArray()),Ji.none())}}function fN(r,e,n){r instanceof su?function(o,u,f){const m=o.value.clone(),p=$E(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Xs?function(o,u,f){if(!Jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$E(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Ub(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ql(r,e,n,s){return r instanceof su?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=u.value.clone(),v=ZE(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Xs?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=ZE(u.fieldTransforms,p,f),v=f.data;return v.setAll(Ub(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,n,s):function(u,f,m){return Jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function dN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ob(s.transform,o||null);u!=null&&(n===null&&(n=Vn.empty()),n.set(s.field,u))}return n||null}function XE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,f)=>cN(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function $E(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,uN(f,m,n[o]))}return s}function ZE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,lN(u,f,e))}return s}class Lb extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&fN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Nb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Pb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,s)=>XE(n,s))&&ro(this.baseMutations,e.baseMutations,(n,s)=>XE(n,s))}}class Op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return iN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function _N(r){switch(r){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function jb(r){if(r===void 0)return ir("GRPC error has no .code"),$.UNKNOWN;switch(r){case Tt.OK:return $.OK;case Tt.CANCELLED:return $.CANCELLED;case Tt.UNKNOWN:return $.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return $.INTERNAL;case Tt.UNAVAILABLE:return $.UNAVAILABLE;case Tt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Tt.NOT_FOUND:return $.NOT_FOUND;case Tt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Tt.ABORTED:return $.ABORTED;case Tt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Tt.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Kr([4294967295,4294967295],0);function WE(r){const e=vN().encode(r),n=new J0;return n.update(e),new Uint8Array(n.digest())}function JE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([o,u],0)]}class Mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Kr.fromNumber(s)));return o.compare(EN)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=WE(e),[s,o]=JE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=WE(e),[s,o]=JE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(Se.min(),o,new lt(Me),rr(),Ve())}}class au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new au(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class zb{constructor(e,n){this.targetId=e,this.Ce=n}}class Bb{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new au(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TN{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.Je=Uc(),this.He=Uc(),this.Ye=new lt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Qm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Wt.newNoDocument(f,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zr(s).toUint8Array()}catch(p){if(p instanceof hb)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mp(f,o,u)}catch(p){return io(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Qm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Ve();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ye,this.je,s);return this.je=rr(),this.Je=Uc(),this.He=Uc(),this.Ye=new lt(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uc(){return new lt(ye.comparator)}function tT(){return new lt(ye.comparator)}const bN={asc:"ASCENDING",desc:"DESCENDING"},AN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wN={and:"AND",or:"OR"};class SN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RN(r,e){return Eh(r,e.toTimestamp())}function yi(r){return Ge(!!r,49232),Se.fromTimestamp(function(n){const s=$r(n);return new rt(s.seconds,s.nanos)}(r))}function Vp(r,e){return $m(r,e).canonicalString()}function $m(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Hb(r){const e=it.fromString(r);return Ge(Yb(e),10190,{key:e.toString()}),e}function Zm(r,e){return Vp(r.databaseId,e.path)}function wm(r,e){const n=Hb(e);if(n.get(1)!==r.databaseId.projectId)throw new fe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(Gb(n))}function Fb(r,e){return Vp(r.databaseId,e)}function IN(r){const e=Hb(r);return e.length===4?it.emptyPath():Gb(e)}function Wm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gb(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nT(r,e,n){return{name:Zm(r,e),fields:n.value.mapValue.fields}}function CN(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Gt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Gt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?$.UNKNOWN:jb(g.code);return new fe(v,g.message||"")}(f);n=new Bb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):Se.min(),m=new Vn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new eh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(r,s.document),u=s.readTime?yi(s.readTime):Se.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(r,s.document),u=s.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new yN(o,u),m=s.targetId;n=new zb(m,f)}}return n}function xN(r,e){let n;if(e instanceof su)n={update:nT(r,e.key,e.value)};else if(e instanceof Lb)n={delete:Zm(r,e.key)};else if(e instanceof Xs)n={update:nT(r,e.key,e.data),updateMask:LN(e.fieldMask)};else{if(!(e instanceof mN))return Ee(16599,{Vt:e.type});n={verify:Zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:RN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),n}function NN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(Se.min())&&(f=yi(u)),new hN(f,o.transformResults||[])}(n,e))):[]}function DN(r,e){return{documents:[Fb(r,e.path)]}}function ON(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Fb(r,o);const u=function(g){if(g.length!==0)return Qb(Xn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Qa(b.field),direction:kN(b.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function MN(r){let e=IN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(T){const b=Kb(T);return b instanceof Xn&&Tb(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(b=>function(U){return new $l(Ya(U.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,Uh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(T){const b=!!T.before,N=T.values||[];return new gh(N,b)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const b=!T.before,N=T.values||[];return new gh(N,b)}(n.endAt)),Wx(e,o,f,u,m,"F",p,g)}function VN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(n){return bt.create(Ya(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>Kb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(r):Ee(30097,{filter:r})}function kN(r){return bN[r]}function PN(r){return AN[r]}function UN(r){return wN[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Ft.fromServerFormat(r.fieldPath)}function Qb(r){return r instanceof bt?function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:PN(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const s=n.getFilters().map(o=>Qb(o));return s.length===1?s[0]:{compositeFilter:{op:UN(n.op),filters:s}}}(r):Ee(54877,{filter:r})}function LN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.yt=e}}function zN(r){const e=MN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.Cn=new qN}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Xr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class qN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xb=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Xb,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",HN=1048576;function sT([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class FN{constructor(e){this.Ir=e,this.buffer=new Nt(sT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?de(rT,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)})}}class KN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Ph.ce);const s=new FN(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),Ga()<=Oe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function QN(r,e){return new KN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ql(s.mutation,o,Yn.empty(),rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Vl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=rr();const f=Bl(),m=function(){return Bl()}();return n.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Xs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),ql(v.mutation,g,v.mutation.getFieldMask(),rt.now())):f.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>m.set(g,new XN(v,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Bl();let o=new lt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Yn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=Nb();v.forEach(b=>{if(!u.has(b)){const N=Pb(n.get(b),s.get(b));N!==null&&T.set(b,N),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(js());let m=Kl,p=u;return f.next(g=>J.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(v=>({batchId:m,changes:xb(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(T,b){return new _o(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,b)=>{f=f.insert(T,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Wt.newInvalidDocument(v)))});let m=Vl();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&ql(v.mutation,g,Yn.empty(),rt.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:zN(o.bundledQuery),readTime:yi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.overlays=new lt(ye.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=js(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new gN(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Qr=new Nt(Pt.$r),this.Ur=new Nt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ye(new it([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Pt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new pN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Sp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Me);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ye(u),0);let m=new Nt(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.ri=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Nx(xx(v),s)<=0||(o.has(v.key)||zh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new nD(this)}getSize(e){return J.resolve(this.size)}}class nD extends YN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.persistence=e,this.si=new Ys(n=>Cp(n),xp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new JN,this.referenceDelegate=e(this),this.Pi=new iD(this),this.indexManager=new BN,this.remoteDocumentCache=function(o){return new tD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new jN(n),this.Ii=new ZN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new eD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new rD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class rD extends Ox{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Pp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=ye.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new Ys(s=>kx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QN(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WR()?8:Mx(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new sD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ga()<=Oe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ga()<=Oe.DEBUG&&de("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ga()<=Oe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):J.resolve())}ys(e,n){if(QE(n))return J.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=yh(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,yh(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return QE(n)||o.isEqual(Se.min())?J.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Ga()<=Oe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.vs(e,f,n,Cx(o,Kl)).next(m=>m))})}Ds(e,n){let s=new Nt(Ib(e));return n.forEach((o,u)=>{zh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ga()<=Oe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,Xr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",oD=3e8;class lD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Me),this.xs=new Ys(u=>Cp(u),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uD(r,e,n,s){return new lD(r,e,n,s)}async function Zb(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function cD(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const T=g.batch,b=T.keys();let N=J.resolve();return b.forEach(U=>{N=N.next(()=>v.getEntry(p,U)).next(Z=>{const Q=g.docVersions.get(U);Ge(Q!==null,48541),Z.version.compareTo(Q)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),v.addEntry(Z)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Wb(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hD(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((v,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T)));let N=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),function(Z,Q,ce){return Z.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=oD?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0}(b,N,v)&&m.push(n.Pi.updateTargetData(u,N))});let p=rr(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(fD(u,f,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function fD(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=rr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(Lp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function dD(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mD(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Jm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!yo(f))throw f;de(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function aT(r,e,n){const s=Re(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const T=Re(p),b=T.xs.get(v);return b!==void 0?J.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,v)}(s,f,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(pD(s,eN(e),m),{documents:m,Qs:u})))}function pD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class oT{constructor(){this.activeTargetIds=aN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gD{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function ep(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="RestConnection",_D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ep(),m=this.zo(e,n.toUriEncodedString());de(Sm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=ho(g);return this.Jo(e,m,p,s,v).then(T=>(de(Sm,`Received RPC '${e}' ${f}: `,T),T),T=>{throw io(Sm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=_D[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class TD extends vD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ep();return new Promise((m,p)=>{const g=new eb;g.setWithCredentials(!0),g.listenOnce(tb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case $c.NO_ERROR:const T=g.getResponseJson();de($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case $c.TIMEOUT:de($t,`RPC '${e}' ${f} timed out`),p(new fe($.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const b=g.getStatus();if(de($t,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N==null?void 0:N.error;if(U&&U.status&&U.message){const Z=function(ce){const se=ce.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(se)>=0?se:$.UNKNOWN}(U.status);p(new fe(Z,U.message))}else p(new fe($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de($t,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);de($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)})}T_(e,n,s){const o=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rb(),m=ib(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");de($t,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=f.createWebChannel(v,p);this.I_(T);let b=!1,N=!1;const U=new ED({Yo:Q=>{N?de($t,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(b||(de($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),de($t,`RPC '${e}' stream ${o} sending:`,Q),T.send(Q))},Zo:()=>T.close()}),Z=(Q,ce,se)=>{Q.listen(ce,ie=>{try{se(ie)}catch(ne){setTimeout(()=>{throw ne},0)}})};return Z(T,Ml.EventType.OPEN,()=>{N||(de($t,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),Z(T,Ml.EventType.CLOSE,()=>{N||(N=!0,de($t,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))}),Z(T,Ml.EventType.ERROR,Q=>{N||(N=!0,io($t,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),U.a_(new fe($.UNAVAILABLE,"The operation could not be completed")))}),Z(T,Ml.EventType.MESSAGE,Q=>{var ce;if(!N){const se=Q.data[0];Ge(!!se,16349);const ie=se,ne=(ie==null?void 0:ie.error)||((ce=ie[0])==null?void 0:ce.error);if(ne){de($t,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let ue=function(I){const O=Tt[I];if(O!==void 0)return jb(O)}(re),x=ne.message;ue===void 0&&(ue=$.INTERNAL,x="Unknown error status: "+re+" with message "+ne.message),N=!0,U.a_(new fe(ue,x)),T.close()}else de($t,`RPC '${e}' stream ${o} received:`,se),U.u_(se)}}),Z(m,nb.STAT_EVENT,Q=>{Q.stat===qm.PROXY?de($t,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===qm.NOPROXY&&de($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(r){return new SN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class eA{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new fe($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(de(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bD extends eA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?yi(f.readTime):Se.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Qm(p)?{documents:DN(u,p)}:{query:ON(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qb(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=VN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class AD extends eA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NN(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>xN(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{}class SD extends wD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,$m(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe($.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,$m(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe($.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class ID{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{$s(this)&&(de(Ks,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ea.add(4),await ou(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gh(g)}(this))})}),this.Ra=new RD(s,o)}}async function Gh(r){if($s(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function tA(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Bp(n):vo(n).O_()&&zp(n,e))}function jp(r,e){const n=Re(r),s=vo(n);n.Ia.delete(e),s.O_()&&nA(n,e),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Ra.set("Unknown"))}function zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(r).Y_(e)}function nA(r,e){r.Va.Ue(e),vo(r).Z_(e)}function Bp(r){r.Va=new TN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function qp(r){return $s(r)&&!vo(r).x_()&&r.Ia.size>0}function $s(r){return Re(r).Ea.size===0}function iA(r){r.Va=void 0}async function CD(r){r.Ra.set("Online")}async function xD(r){r.Ia.forEach((e,n)=>{zp(r,e)})}async function ND(r,e){iA(r),qp(r)?(r.Ra.ha(e),Bp(r)):r.Ra.set("Unknown")}async function DD(r,e,n){if(r.Ra.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){de(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(r,s)}else if(e instanceof eh?r.Va.Ze(e):e instanceof zb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await Wb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),nA(u,p);const T=new Br(v.target,p,g,v.sequenceNumber);zp(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){de(Ks,"Failed to raise snapshot:",s),await bh(r,s)}}async function bh(r,e,n){if(!yo(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),n||(n=()=>Wb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Ks,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)})}function rA(r,e){return e().catch(n=>bh(r,n,e))}async function Kh(r){const e=Re(r),n=Jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;OD(e);)try{const o=await dD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,MD(e,o)}catch(o){await bh(e,o)}sA(e)&&aA(e)}function OD(r){return $s(r)&&r.Ta.length<10}function MD(r,e){r.Ta.push(e);const n=Jr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function sA(r){return $s(r)&&!Jr(r).x_()&&r.Ta.length>0}function aA(r){Jr(r).start()}async function VD(r){Jr(r).ra()}async function kD(r){const e=Jr(r);for(const n of r.Ta)e.ea(n.mutations)}async function PD(r,e,n){const s=r.Ta.shift(),o=Op.from(s,e,n);await rA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Kh(r)}async function UD(r,e){e&&Jr(r).X_&&await async function(s,o){if(function(f){return _N(f)&&f!==$.ABORTED}(o.code)){const u=s.Ta.shift();Jr(s).B_(),await rA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kh(s)}}(r,e),sA(r)&&aA(r)}async function hT(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),de(Ks,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function LD(r,e){const n=Re(r);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=function(n,s,o){const u=Re(n);return u.sa(),new bD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:CD.bind(null,r),t_:xD.bind(null,r),r_:ND.bind(null,r),H_:DD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),qp(r)?Bp(r):r.Ra.set("Unknown")):(await r.ma.stop(),iA(r))})),r.ma}function Jr(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.sa(),new AD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:VD.bind(null,r),r_:UD.bind(null,r),ta:kD.bind(null,r),na:PD.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(de(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Hp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(ir("AsyncQueue",`${e}: ${r}`),yo(r))return new fe($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ga=new lt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class lo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new lo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class zD{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=dT(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new fe($.ABORTED,"Firestore shutting down"))}}function dT(){return new Ys(r=>Rb(r),jh)}async function oA(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new jD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Fp(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function lA(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function BD(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Gp(n)}function qD(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Gp(r){r.Ca.forEach(e=>{e.next()})}var tp,mT;(mT=tp||(tp={})).Ma="default",mT.Cache="cache";class uA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class HD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=Ib(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const b=o.get(v),N=zh(this.query,T)?T:null,U=!!b&&this.mutatedKeys.has(b.key),Z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Q=!1;b&&N?b.data.isEqual(N.data)?U!==Z&&(s.track({type:3,doc:N}),Q=!0):this.su(b,N)||(s.track({type:2,doc:N}),Q=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!b&&N?(s.track({type:0,doc:N}),Q=!0):b&&!N&&(s.track({type:1,doc:b}),Q=!0,(p||g)&&(m=!0)),Q&&(N?(f=f.add(N),u=Z?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,T)=>function(N,U){const Z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:Q})}};return Z(N)-Z(U)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new hA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new cA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kp="SyncEngine";class FD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GD{constructor(e){this.key=e,this.hu=!1}}class KD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys(m=>Rb(m),jh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ye.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QD(r,e,n=!0){const s=yA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fA(s,e,n,!0),o}async function YD(r,e){const n=yA(r);await fA(n,e,!0,!1)}async function fA(r,e,n,s){const o=await mD(r.localStore,gi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await XD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&tA(r.remoteStore,o),m}async function XD(r,e,n,s,o){r.pu=(T,b,N)=>async function(Z,Q,ce,se){let ie=Q.view.ru(ce);ie.Cs&&(ie=await aT(Z.localStore,Q.query,!1).then(({documents:x})=>Q.view.ru(x,ie)));const ne=se&&se.targetChanges.get(Q.targetId),re=se&&se.targetMismatches.get(Q.targetId)!=null,ue=Q.view.applyChanges(ie,Z.isPrimaryClient,ne,re);return gT(Z,Q.targetId,ue.au),ue.snapshot}(r,T,b,N);const u=await aT(r.localStore,e,!0),f=new HD(e,u.Qs),m=f.ru(u.documents),p=au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);gT(r,n,g.au);const v=new FD(e,n,f);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function $D(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!jh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jp(s.remoteStore,o.targetId),np(s,o.targetId)}).catch(go)):(np(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function ZD(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function WD(r,e,n){const s=sO(r);try{const o=await function(f,m){const p=Re(f),g=rt.now(),v=m.reduce((N,U)=>N.add(U.key),Ve());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=rr(),Z=Ve();return p.Ns.getEntries(N,v).next(Q=>{U=Q,U.forEach((ce,se)=>{se.isValidDocument()||(Z=Z.add(ce))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,U)).next(Q=>{T=Q;const ce=[];for(const se of m){const ie=dN(se,T.get(se.key).overlayedDocument);ie!=null&&ce.push(new Xs(se.key,ie,_b(ie.value.mapValue),Ji.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,ce,m)}).next(Q=>{b=Q;const ce=Q.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(N,Q.batchId,ce)})}).then(()=>({batchId:b.batchId,changes:xb(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new lt(Me)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await lu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function dA(r,e){const n=Re(r);try{const s=await hD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))}),await lu(n,s,e)}catch(s){await go(s)}}function pT(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach((v,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)}),g&&Gp(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JD(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(ye.comparator);f=f.insert(u,Wt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new Hh(Se.min(),new Map,new lt(Me),f,m);await dA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Qp(s)}else await Jm(s.localStore,e,!1).then(()=>np(s,e,n)).catch(go)}async function eO(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await cD(n.localStore,e);pA(n,s,null),mA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,o)}catch(o){await go(o)}}async function tO(r,e,n){const s=Re(r);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Ge(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);pA(s,e,n),mA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lu(s,o)}catch(o){await go(o)}}function mA(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function pA(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||gA(r,s)})}function gA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Qp(r))}function gT(r,e,n){for(const s of n)s instanceof cA?(r.Ru.addReference(s.key,e),nO(r,s)):s instanceof hA?(de(Kp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||gA(r,s.key)):Ee(19791,{wu:s})}function nO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(de(Kp,"New document in limbo: "+n),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(it.fromString(e)),s=r.fu.next();r.Au.set(s,new GD(n)),r.du=r.du.insert(n,s),tA(r.remoteStore,new Br(gi(Np(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function lu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Up.As(p.targetId,g);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(g,b=>J.forEach(b.Es,N=>v.persistence.referenceDelegate.addReference(T,b.targetId,N)).next(()=>J.forEach(b.ds,N=>v.persistence.referenceDelegate.removeReference(T,b.targetId,N)))))}catch(T){if(!yo(T))throw T;de(Lp,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const N=v.Ms.get(b),U=N.snapshotVersion,Z=N.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(b,Z)}}}(s.localStore,u))}async function iO(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){de(Kp,"User change. New user:",e.toKey());const s=await Zb(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new fe($.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Ls)}}function rO(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function yA(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JD.bind(null,e),e.Pu.H_=BD.bind(null,e.eventManager),e.Pu.yu=qD.bind(null,e.eventManager),e}function sO(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uD(this.persistence,new aD,e.initialUser,this.serializer)}Cu(e){return new $b(Pp.mi,this.serializer)}Du(e){return new gD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class aO extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new $b(s=>Th.mi(s,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iO.bind(null,this.syncEngine),await LD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zD}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=function(u){return new TD(u)}(e.databaseInfo);return function(u,f,m,p){return new SD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new ID(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>pT(this.syncEngine,n,0),function(){return uT.v()?new uT:new yD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,v){const T=new KD(o,u,f,m,p,g);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);de(Ks,"RemoteStore shutting down."),u.Ea.add(5),await ou(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class oO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Im(r,e){r.asyncQueue.verifyOperationInProgress(),de(es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Zb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function yT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await lO(r);de(es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>hT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>hT(e.remoteStore,o)),r._onlineComponents=e}async function lO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(es,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await Im(r,new Ah)}}else de(es,"Using default OfflineComponentProvider"),await Im(r,new aO(void 0));return r._offlineComponents}async function vA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(es,"Using user provided OnlineComponentProvider"),await yT(r,r._uninitializedComponentsProvider._online)):(de(es,"Using default OnlineComponentProvider"),await yT(r,new ip))),r._onlineComponents}function uO(r){return vA(r).then(e=>e.syncEngine)}async function EA(r){const e=await vA(r),n=e.eventManager;return n.onListen=QD.bind(null,e.syncEngine),n.onUnlisten=$D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZD.bind(null,e.syncEngine),n}function cO(r,e,n={}){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new _A({next:b=>{v.Nu(),f.enqueueAndForget(()=>lA(u,T));const N=b.docs.has(m);!N&&b.fromCache?g.reject(new fe($.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&p&&p.source==="server"?g.reject(new fe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new uA(Np(m.path),v,{includeMetadataChanges:!0,qa:!0});return oA(u,T)}(await EA(r),r.asyncQueue,e,n,s)),s.promise}function hO(r,e,n={}){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new _A({next:b=>{v.Nu(),f.enqueueAndForget(()=>lA(u,T)),b.fromCache&&p.source==="server"?g.reject(new fe($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new uA(m,v,{includeMetadataChanges:!0,qa:!0});return oA(u,T)}(await EA(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firestore.googleapis.com",vT=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bA,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HN)throw new fe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yx;switch(s.type){case"firstParty":return new Tx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_T.get(n);s&&(de("ComponentProvider","Removing Datastore"),_T.delete(n),s.terminate())}(this),Promise.resolve()}}function fO(r,e,n,s={}){var g;r=Gs(r,Qh);const o=ho(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(d0(`https://${m}`),m0("Firestore",!0)),u.host!==bA&&u.host!==m&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Bs(p,f)&&(r._setSettings(p),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=Zt.MOCK_USER;else{v=HR(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new fe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(b)}r._authCredentials=new _x(new ab(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,wt._jsonSchema))return new wt(e,s||null,new ye(it.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:At("string",wt._jsonSchemaVersion),referencePath:At("string")};class Qr extends ts{constructor(e,n,s){super(e,n,Np(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ye(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function dO(r,e,...n){if(r=Pn(r),ob("collection","path",e),r instanceof Qh){const s=it.fromString(e,...n);return ME(s),new Qr(r,null,s)}{if(!(r instanceof wt||r instanceof Qr))throw new fe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return ME(s),new Qr(r.firestore,null,s)}}function TT(r,e,...n){if(r=Pn(r),arguments.length===1&&(e=wp.newId()),ob("doc","path",e),r instanceof Qh){const s=it.fromString(e,...n);return OE(s),new wt(r,null,new ye(s))}{if(!(r instanceof wt||r instanceof Qr))throw new fe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return OE(s),new wt(r.firestore,r instanceof Qr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jb(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&de(bT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;de(bT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",wT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yh extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new AT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function mO(r,e){const n=typeof r=="object"?r:_0(),s=typeof r=="string"?r:mh,o=pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BR("firestore");u&&fO(o,...u)}return o}function Yp(r){if(r._terminated)throw new fe($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pO(r),r._firestoreClient}function pO(r){var s,o,u;const e=r._freezeSettings(),n=function(m,p,g,v){return new Lx(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,TA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new oO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Gt.fromBase64String(e))}catch(n){throw new fe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:At("string",kn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(ru(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:At("string",_i._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vi(e.vectorValues);throw new fe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:At("string",vi._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^__.*__$/;class yO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function wA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class $p{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wA(this.Ac)&&gO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _O{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,o=!1){return new $p({Ac:e,methodName:n,Dc:s,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SA(r){const e=r._freezeSettings(),n=Fh(r._databaseId);return new _O(r._databaseId,!!e.ignoreUndefinedProperties,n)}function vO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);CA("Data must be an object, but it was:",f,s);const m=RA(s,f);let p,g;if(u.merge)p=new Yn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=TO(e,T,n);if(!f.contains(b))throw new fe($.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);AO(v,b)||v.push(b)}p=new Yn(v),g=f.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=f.fieldTransforms;return new yO(new Vn(m),p,g)}function EO(r,e,n,s=!1){return Zp(n,r.Cc(s?4:3,e))}function Zp(r,e){if(IA(r=Pn(r)))return CA("Unsupported field value:",e,r),RA(r,e);if(r instanceof AA)return function(s,o){if(!wA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Zp(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:qb(o.serializer,s._byteString)};if(s instanceof wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vi)return function(f,m){return{mapValue:{fields:{[gb]:{stringValue:yb},[ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Dp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${kh(s)}`)}(r,e)}function RA(r,e){const n={};return cb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(r,(s,o)=>{const u=Zp(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function IA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof _i||r instanceof kn||r instanceof wt||r instanceof AA||r instanceof vi)}function CA(r,e,n){if(!IA(n)||!lb(n)){const s=kh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function TO(r,e,n){if((e=Pn(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return xA(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const bO=new RegExp("[~\\*/\\[\\]]");function xA(r,e,n){if(e.search(bO)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe($.INVALID_ARGUMENT,m+r+p)}function AO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wO extends NA{data(){return super.data()}}function Wp(r,e){return typeof e=="string"?xA(r,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class eg extends Jp{}function RO(r,e,...n){let s=[];e instanceof Jp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ng).length,m=u.filter(p=>p instanceof tg).length;if(f>1||f>0&&m>0)throw new fe($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class tg extends eg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tg(e,n,s)}_apply(e){const n=this._parse(e);return DA(e._query,n),new ts(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=SA(e.firestore);return function(u,f,m,p,g,v,T){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){RT(T,v);const U=[];for(const Z of T)U.push(ST(p,u,Z));b={arrayValue:{values:U}}}else b=ST(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||RT(T,v),b=EO(m,f,T,v==="in"||v==="not-in");return bt.create(g,v,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ng extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)DA(f,p),f=Ym(f,p)}(e._query,n),new ts(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends eg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new fe($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(u,f)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new _o(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function IO(r,e="asc"){const n=e,s=Wp("orderBy",r);return ig._create(s,n)}class rg extends eg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new rg(e,n,s)}_apply(e){return new ts(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function CO(r){return rg._create("limit",r,"F")}function ST(r,e,n){if(typeof(n=Pn(n))=="string"){if(n==="")throw new fe($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(e)&&n.indexOf("/")!==-1)throw new fe($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new fe($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return BE(r,new ye(s))}if(n instanceof wt)return BE(r,n._key);throw new fe($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function RT(r,e){if(!Array.isArray(r)||r.length===0)throw new fe($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DA(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xO{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[ph].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>pt(f.doubleValue));return new vi(n)}convertGeoPoint(e){return new _i(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=$r(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ge(Yb(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends NA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Wp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:At("string",zs._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class th extends zs{data(e={}){return super.data(e)}}class to{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new Pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:DO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(r){r=Gs(r,wt);const e=Gs(r.firestore,Yh);return cO(Yp(e),r._key).then(n=>PO(e,r,n))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:At("string",to._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class OA extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function MO(r){r=Gs(r,ts);const e=Gs(r.firestore,Yh),n=Yp(e),s=new OA(e);return SO(r._query),hO(n,r._query).then(o=>new to(e,s,r,o))}function VO(r,e,n){r=Gs(r,wt);const s=Gs(r.firestore,Yh),o=NO(r.converter,e,n);return kO(s,[vO(SA(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ji.none())])}function kO(r,e){return function(s,o){const u=new Wi;return s.asyncQueue.enqueueAndForget(async()=>WD(await uO(s),o,u)),u.promise}(Yp(r),e)}function PO(r,e,n){const s=n.docs.get(e._key),o=new OA(r);return new zs(r,o,e._key,s,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){po=o})(fo),no(new qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Yh(new vx(s.getProvider("auth-internal")),new bx(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr(CE,xE,e),Fr(CE,xE,"esm2020")})();const UO={apiKey:"AIzaSyA7b2oACmifQl03-_a6zj0mig1C2IcMitw",authDomain:"shana-chan-site.firebaseapp.com",projectId:"shana-chan-site",storageBucket:"shana-chan-site.firebasestorage.app",messagingSenderId:"928261399891",appId:"1:928261399891:web:cb13ff277a37d3c738ada6"},MA=y0(UO),VA=px(MA),Cm=mO(MA);JC(VA).then(()=>console.log("signed in")).catch(r=>console.error("couldn't sign in",r));function LO(){const[r,e]=H.useState(""),[n,s]=H.useState([]),[o,u]=H.useState(6),[f,m]=H.useState(0),[p,g]=H.useState(null),[v,T]=H.useState(null),b="abcdefghijklmnopqrstuvwxyz".split(""),N=DR(r,n),U=OR(r,n),Z=async()=>{try{const se=dO(Cm,"hangmanScores"),ie=RO(se,IO("score","desc"),CO(1)),ne=await MO(ie);if(console.log("Top score query snapshot:",ne.docs),ne.empty)console.log("No scores found");else{const ue=ne.docs[0].data().score;console.log("Top score:",ue),T(ue)}}catch(se){console.error("Error fetching highest score:",se)}};H.useEffect(()=>{const se=Wv();e(se)},[]),H.useEffect(()=>{Z()},[]),H.useEffect(()=>{const se=VA.onAuthStateChanged(async ie=>{if(ie){g(ie.uid);const ne=TT(Cm,"hangmanScores",ie.uid),re=await OO(ne);re.exists()&&m(re.data().score||0)}});return()=>se()},[]),H.useEffect(()=>{N&&p&&(async()=>{const ie=f+1;m(ie);const ne=TT(Cm,"hangmanScores",p);await VO(ne,{score:ie},{merge:!0}),await Z()})()},[N,p]);const Q=()=>{e(Wv()),s([]),u(6)},ce=`/assets/HangmanAssets/hangman_${o}.png`;return K.jsxs("div",{onClick:se=>se.stopPropagation(),children:[K.jsx("h2",{children:"Hangman Game"}),v!==null&&K.jsxs("h3",{className:"font-semibold text-green",children:["Highest score: ",v]}),K.jsxs("h3",{className:"font-semibold",children:["Your score: ",f]}),K.jsxs("p",{children:["Number of guesses: ",o]}),K.jsx("p",{children:NR(r,n)}),K.jsx("br",{}),K.jsx("br",{}),K.jsx("div",{id:"hangmanImg",children:K.jsx("img",{src:ce,alt:`Hangman stage ${o}`,style:{width:"200px",height:"200px"}})}),K.jsx("div",{className:"flex flex-wrap gap-2 my-4",children:b.map(se=>K.jsx("button",{onClick:ie=>{ie.stopPropagation(),n.includes(se)||(s([...n,se]),r.includes(se)||u(o-1))},disabled:n.includes(se)||N||U,className:"px-2 py-1 border rounded disabled:opacity-50",children:se.toUpperCase()},se))}),N&&K.jsx("p",{className:"text-green-600 font-bold",children:"You won!"}),U&&K.jsxs("p",{className:"text-red-600 font-bold",children:["You lost! The word was ",r]}),(N||U)&&K.jsx("button",{onClick:se=>{se.stopPropagation(),Q()},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Restart Game"})]})}function jO(){const[r,e]=H.useState(0),[n,s]=H.useState(!0),o=[{title:"Orbi Software Test Engineer",company:"NetGear",duration:"May 2025 - Present",description:"",type:"industry"},{title:"Web Developer Coordinator",company:"Enactus SFU",duration:"February 2025 - August 2025",description:"",type:"industry"},{title:"Junior Developer",company:"Anthem Properties",duration:"May 2024 - August 2024",description:"",type:"industry"}],u=[{title:"Math and Reading Instructor Assistant",company:"Kumon",duration:"August 2021 - Present",description:"",type:"nonindustry"},{title:"Club Secretary",company:"AWANA",duration:"September 2017 - September 2024",description:"",type:"nonindustry"}];return n?K.jsx("div",{className:"bg-black h-screen flex items-center justify-center",children:K.jsx(sR,{text:"  Welcome to the website of Shana Chan",speed:75,onDone:()=>{setTimeout(()=>s(!1),1e3)}})}):K.jsxs("div",{className:"w-full flex flex-col items-center px-4 sm:px-6 lg:px-8 mx-auto",children:[K.jsx(iR,{}),K.jsxs("div",{className:"w-full flex flex-col items-center",children:[K.jsx(fm,{frontContent:K.jsx("div",{id:"about",className:"w-full flex flex-col md:flex-row items-center justify-center gap-6 p-4",children:K.jsx("h1",{children:"About"})}),backContent:K.jsxs("div",{id:"about",className:"w-full h-full flex flex-col md:flex-row items-center justify-center gap-4 sm:gap-6 md:gap-10 p-2 sm:p-4",children:[K.jsx("div",{id:"about-img",className:"flex-shrink-0 mb-4 md:mb-0",children:K.jsx("img",{src:"/assets/AboutImg.jpg",alt:"Image of Shana",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 rounded-xl shadow-lg object-cover"})}),K.jsx("div",{id:"about-text",className:"text-left w-full md:flex-1",children:K.jsxs("p",{className:"font-sans md:font-serif text-sm sm:text-base md:text-lg leading-relaxed",children:["Hi! I'm Shana. ",K.jsx("br",{}),K.jsx("br",{}),"I'm going into my 4th year in the Computing Science program at Simon Fraser University.",K.jsx("br",{}),"How did I get here? Well, as a lost and confused student fresh out of high school, I unexpectedly stumbled into computer science, a step that launched me into an incredible journey of creativity, logic, and problem-solving. ",K.jsx("br",{}),"What started as light curiosity turned into a passion for building things that are both functional and meaningful.",K.jsx("br",{}),"When I'm not pursuing personal coding projects, or studying, you can find me making chill improvs at the piano, reading a book, playing badminton, or touching grass.",K.jsx("br",{}),K.jsx("br",{}),"If you're looking for someone eager to learn, create, and make an impact, let's chat! In the meantime, feel free to explore this site!"]})})]}),color:"#CDE8C5"}),K.jsx(fm,{frontContent:K.jsx("div",{id:"experience",className:"w-full flex items-center justify-center",children:K.jsx("h1",{children:"Experience"})}),backContent:K.jsx("div",{id:"experience",className:"w-full flex flex-col items-center justify-center",children:K.jsxs("div",{className:"w-full max-w-lg flex flex-col items-center",children:[K.jsxs("div",{className:"flex items-center justify-between w-full mb-4",children:[K.jsx("button",{onClick:f=>{f.stopPropagation(),e(m=>m===0?1:0)},className:"text-2xl px-4 py-2 rounded-full hover:bg-gray-200 transition","aria-label":"Previous Experience",children:""}),K.jsx("h2",{className:"text-xl font-bold text-center flex-1",children:r===0?"Industry Experience":"Other Experience"}),K.jsx("button",{onClick:f=>{f.stopPropagation(),e(m=>m===0?1:0)},className:"text-2xl px-4 py-2 rounded-full hover:bg-gray-200 transition","aria-label":"Next Experience",children:""})]}),r===0?K.jsx(Hv,{experienceArr:o}):K.jsx(Hv,{experienceArr:u}),K.jsx("div",{className:"text-center mt-4 text-gray-500 text-sm",children:"Click the arrows to flip between experience sections"})]})}),color:"#FFF89A"}),K.jsx(fm,{frontContent:K.jsx("div",{id:"surprise",className:"w-full flex items-center justify-center",children:K.jsx("h1",{children:"Surprise"})}),backContent:K.jsx("div",{id:"surprise",className:"w-full flex items-center justify-center",children:K.jsx(LO,{})}),color:"#FFB7C5"})]}),K.jsx(rR,{})]})}mS.createRoot(document.getElementById("root")).render(K.jsx(jO,{}));
